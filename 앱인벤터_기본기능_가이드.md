# ì•±ì¸ë²¤í„° ê¸°ë³¸ ê¸°ëŠ¥ ê°€ì´ë“œ

## ëª©ì°¨
1. [ê¸°ë³¸ UI ì‚¬ìš©ë²•](#ê¸°ë³¸-ui-ì‚¬ìš©ë²•)
2. [Bluetooth í†µì‹ ](#bluetooth-í†µì‹ )
3. [ë°ì´í„° ì €ì¥ (TinyDB)](#ë°ì´í„°-ì €ì¥-tinydb)
4. [ì°¨íŠ¸ ì‚¬ìš©](#ì°¨íŠ¸-ì‚¬ìš©)
5. [ë¯¸ë””ì–´ ì‚¬ìš©](#ë¯¸ë””ì–´-ì‚¬ìš©)
6. [HTTP í†µì‹ ](#http-í†µì‹ )

---

## ì „ì²´ êµ¬ì¡°ë„

```mermaid
mindmap
  root((ì•±ì¸ë²¤í„°<br/>ê¸°ë³¸ ê¸°ëŠ¥))
    UI ì»´í¬ë„ŒíŠ¸
      Button
      Label
      TextBox
      Slider
      CheckBox
      ListPicker
      Spinner
      Image
      Arrangement
      Notifier
    í†µì‹ 
      Bluetooth
        ì—°ê²°/í•´ì œ
        ë°ì´í„° ì†¡ìˆ˜ì‹ 
      HTTP
        GET/POST
        REST API
        JSON ì²˜ë¦¬
    ë°ì´í„°
      TinyDB
        ì €ì¥/ë¶ˆëŸ¬ì˜¤ê¸°
        ë¦¬ìŠ¤íŠ¸ ê´€ë¦¬
        íƒœê·¸ ê´€ë¦¬
    ì‹œê°í™”
      ì°¨íŠ¸
        ì„  ê·¸ë˜í”„
        ë§‰ëŒ€ ê·¸ë˜í”„
        ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸
    ë¯¸ë””ì–´
      Camera
      ImagePicker
      VideoPlayer
      Sound
      SpeechRecognizer
      TextToSpeech
      BarcodeScanner
```

---

## ê¸°ë³¸ UI ì‚¬ìš©ë²•

### UI ì»´í¬ë„ŒíŠ¸ ê³„ì¸µ êµ¬ì¡°

```mermaid
graph TB
    A[Screen] --> B[VerticalArrangement]
    A --> C[HorizontalArrangement]
    
    B --> D[Label]
    B --> E[Button]
    B --> F[TextBox]
    B --> G[Slider]
    
    C --> H[Button1]
    C --> I[Button2]
    C --> J[Button3]
    
    A --> K[Image]
    A --> L[Notifier]
    A --> M[BluetoothClient]
    A --> N[TinyDB]
    
    style A fill:#e3f2fd
    style B fill:#fff9c4
    style C fill:#fff9c4
    style M fill:#c8e6c9
    style N fill:#c8e6c9
```

### 1. ë²„íŠ¼ (Button)

#### Designer ì„¤ì •
```
Button1:
  - Text: "í´ë¦­í•˜ì„¸ìš”"
  - BackgroundColor: íŒŒë€ìƒ‰
  - FontSize: 20
  - Width: Fill parent
  - Height: 50 pixels
```

#### Blocks ì‚¬ìš©
```
Button1.Click ì´ë²¤íŠ¸:
  set Label1.Text to "ë²„íŠ¼ì´ í´ë¦­ë˜ì—ˆìŠµë‹ˆë‹¤"
  set Button1.Enabled to false  // ë²„íŠ¼ ë¹„í™œì„±í™”
```

### 2. ë ˆì´ë¸” (Label)

#### Designer ì„¤ì •
```
Label1:
  - Text: "ì•ˆë…•í•˜ì„¸ìš”"
  - FontSize: 18
  - TextColor: ê²€ì€ìƒ‰
  - TextAlignment: center
```

#### Blocks ì‚¬ìš©
```
// í…ìŠ¤íŠ¸ ë³€ê²½
set Label1.Text to "ìƒˆë¡œìš´ í…ìŠ¤íŠ¸"

// ìƒ‰ìƒ ë³€ê²½
set Label1.BackgroundColor to ë¹¨ê°„ìƒ‰

// ìˆ¨ê¸°ê¸°/ë³´ì´ê¸°
set Label1.Visible to false  // ìˆ¨ê¸°ê¸°
set Label1.Visible to true   // ë³´ì´ê¸°
```

### 3. í…ìŠ¤íŠ¸ ë°•ìŠ¤ (TextBox)

#### Designer ì„¤ì •
```
TextBox1:
  - Hint: "ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”"
  - MultiLine: false
  - NumbersOnly: false
```

#### Blocks ì‚¬ìš©
```
Button_Submit.Click:
  set name to TextBox1.Text
  set Label1.Text to join("ì•ˆë…•í•˜ì„¸ìš”, ", name, "ë‹˜!")
  set TextBox1.Text to ""  // í…ìŠ¤íŠ¸ ë°•ìŠ¤ ë¹„ìš°ê¸°
```

### 4. ìŠ¬ë¼ì´ë” (Slider)

#### Designer ì„¤ì •
```
Slider1:
  - MinValue: 0
  - MaxValue: 100
  - ThumbPosition: 50
```

#### Blocks ì‚¬ìš©
```
Slider1.PositionChanged:
  set Label_Value.Text to Slider1.ThumbPosition
  
  // ì¡°ê±´ë¶€ ìƒ‰ìƒ ë³€ê²½
  if Slider1.ThumbPosition > 80
  then
    set Label_Value.TextColor to ë¹¨ê°„ìƒ‰
  else
    set Label_Value.TextColor to ê²€ì€ìƒ‰
```

### 5. ì²´í¬ë°•ìŠ¤ (CheckBox)

#### Blocks ì‚¬ìš©
```
CheckBox1.Changed:
  if CheckBox1.Checked
  then
    set Label1.Text to "ì²´í¬ë¨"
  else
    set Label1.Text to "ì²´í¬ í•´ì œë¨"
```

### 6. ë¦¬ìŠ¤íŠ¸ í”¼ì»¤ (ListPicker)

#### Blocks ì‚¬ìš©
```
ListPicker1.BeforePicking:
  set ListPicker1.Elements to make a list
    item: "ì˜µì…˜ 1"
    item: "ì˜µì…˜ 2"
    item: "ì˜µì…˜ 3"

ListPicker1.AfterPicking:
  set Label1.Text to join("ì„ íƒ: ", ListPicker1.Selection)
```

### 7. ìŠ¤í”¼ë„ˆ (Spinner)

#### Designer ì„¤ì •
```
Spinner1:
  - ElementsFromString: "ë¹¨ê°•,íŒŒë‘,ì´ˆë¡,ë…¸ë‘"
```

#### Blocks ì‚¬ìš©
```
Spinner1.AfterSelecting:
  set Label1.Text to Spinner1.Selection
```

### 8. ì´ë¯¸ì§€ (Image)

#### Blocks ì‚¬ìš©
```
Button_LoadImage.Click:
  set Image1.Picture to "robot.png"  // assetsì—ì„œ ë¡œë“œ
  
Button_ClearImage.Click:
  set Image1.Picture to ""  // ì´ë¯¸ì§€ ì œê±°
```

### 9. ë ˆì´ì•„ì›ƒ (Arrangement)

#### HorizontalArrangement (ê°€ë¡œ ë°°ì¹˜)
```
Designer:
  HorizontalArrangement1:
    - AlignHorizontal: Center
    - AlignVertical: Center
    - Width: Fill parent
    
  ì•ˆì— ë²„íŠ¼ 3ê°œ ë°°ì¹˜ â†’ ê°€ë¡œë¡œ ë‚˜ë€íˆ
```

#### VerticalArrangement (ì„¸ë¡œ ë°°ì¹˜)
```
Designer:
  VerticalArrangement1:
    - AlignHorizontal: Center
    - Width: Fill parent
    
  ì•ˆì— ë²„íŠ¼ 3ê°œ ë°°ì¹˜ â†’ ì„¸ë¡œë¡œ ë‚˜ë€íˆ
```

### 10. ì•Œë¦¼ (Notifier)

#### Blocks ì‚¬ìš©
```
// ê²½ê³ ì°½
Button_Alert.Click:
  call Notifier1.ShowAlert("ê²½ê³  ë©”ì‹œì§€ì…ë‹ˆë‹¤")

// ì„ íƒ ëŒ€í™”ìƒì
Button_Choose.Click:
  call Notifier1.ShowChooseDialog(
    message: "ê³„ì†í•˜ì‹œê² ìŠµë‹ˆê¹Œ?",
    title: "í™•ì¸",
    button1Text: "ì˜ˆ",
    button2Text: "ì•„ë‹ˆì˜¤"
  )

Notifier1.AfterChoosing:
  if choice = "ì˜ˆ"
  then
    // ì˜ˆ ì„ íƒ ì‹œ ë™ì‘
  else
    // ì•„ë‹ˆì˜¤ ì„ íƒ ì‹œ ë™ì‘

// í† ìŠ¤íŠ¸ ë©”ì‹œì§€ (ì§§ê²Œ í‘œì‹œ)
call Notifier1.ShowMessageDialog(
  message: "ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤",
  title: "ì™„ë£Œ"
)
```

---

## Bluetooth í†µì‹ 

### Bluetooth í†µì‹  í”„ë¡œì„¸ìŠ¤

```mermaid
flowchart TD
    A[ì•± ì‹œì‘] --> B[ListPicker í´ë¦­]
    B --> C[AddressesAndNames ê°€ì ¸ì˜¤ê¸°]
    C --> D{ê¸°ê¸° ëª©ë¡ ìˆìŒ?}
    D -->|No| E[ê²½ê³ : í˜ì–´ë§ í•„ìš”]
    D -->|Yes| F[ê¸°ê¸° ëª©ë¡ í‘œì‹œ]
    F --> G[ì‚¬ìš©ìê°€ ê¸°ê¸° ì„ íƒ]
    G --> H[Connect ì‹œë„]
    H --> I{ì—°ê²° ì„±ê³µ?}
    I -->|Yes| J[ì—°ê²°ë¨ í‘œì‹œ]
    I -->|No| K[ì—°ê²° ì‹¤íŒ¨ í‘œì‹œ]
    J --> L[ë°ì´í„° ì†¡ìˆ˜ì‹  ê°€ëŠ¥]
    L --> M[SendText/ReceiveText]
    M --> N{ê³„ì† ì‚¬ìš©?}
    N -->|Yes| M
    N -->|No| O[Disconnect]
    O --> P[ì—°ê²° í•´ì œë¨]
    
    style A fill:#e1f5ff
    style J fill:#c8e6c9
    style K fill:#ffcdd2
    style L fill:#fff9c4
    style P fill:#e0e0e0
```

### 1. ê¸°ë³¸ ì—°ê²°

#### í•„ìš”í•œ ì»´í¬ë„ŒíŠ¸
```
Connectivity:
  - BluetoothClient1
  
User Interface:
  - ListPicker_BT (ê¸°ê¸° ì„ íƒ)
  - Label_Status (ì—°ê²° ìƒíƒœ)
  - Button_Disconnect (ì—°ê²° í•´ì œ)
```

#### ê¸°ê¸° ëª©ë¡ ê°€ì ¸ì˜¤ê¸°
```
ListPicker_BT.BeforePicking:
  set ListPicker_BT.Elements to BluetoothClient1.AddressesAndNames
  
  // í˜ì–´ë§ëœ ê¸°ê¸°ê°€ ì—†ìœ¼ë©´
  if length of list ListPicker_BT.Elements = 0
  then
    call Notifier1.ShowAlert("í˜ì–´ë§ëœ Bluetooth ê¸°ê¸°ê°€ ì—†ìŠµë‹ˆë‹¤")
```

#### ì—°ê²°í•˜ê¸°
```
ListPicker_BT.AfterPicking:
  call Notifier1.ShowProgressDialog(
    message: "ì—°ê²° ì¤‘...",
    title: "Bluetooth"
  )
  
  if call BluetoothClient1.Connect(ListPicker_BT.Selection)
  then
    call Notifier1.DismissProgressDialog
    set Label_Status.Text to "ì—°ê²°ë¨"
    set Label_Status.BackgroundColor to ì´ˆë¡ìƒ‰
    set ListPicker_BT.Enabled to false
    set Button_Disconnect.Enabled to true
  else
    call Notifier1.DismissProgressDialog
    call Notifier1.ShowAlert("ì—°ê²° ì‹¤íŒ¨")
    set Label_Status.Text to "ì—°ê²° ì‹¤íŒ¨"
    set Label_Status.BackgroundColor to ë¹¨ê°„ìƒ‰
```

#### ì—°ê²° í•´ì œ
```
Button_Disconnect.Click:
  call BluetoothClient1.Disconnect
  set Label_Status.Text to "ì—°ê²° í•´ì œë¨"
  set Label_Status.BackgroundColor to íšŒìƒ‰
  set ListPicker_BT.Enabled to true
  set Button_Disconnect.Enabled to false
```

### 2. ë°ì´í„° ì „ì†¡

#### í…ìŠ¤íŠ¸ ì „ì†¡
```
Button_Send.Click:
  if BluetoothClient1.IsConnected
  then
    set message to TextBox_Input.Text
    call BluetoothClient1.SendText(message)
    set Label_Sent.Text to join("ì „ì†¡: ", message)
    set TextBox_Input.Text to ""
  else
    call Notifier1.ShowAlert("Bluetoothê°€ ì—°ê²°ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤")
```

#### ë°”ì´íŠ¸ ì „ì†¡
```
Button_SendBytes.Click:
  if BluetoothClient1.IsConnected
  then
    call BluetoothClient1.Send1ByteNumber(255)
    // ë˜ëŠ”
    call BluetoothClient1.Send2ByteNumber(1024)
    // ë˜ëŠ”
    call BluetoothClient1.Send4ByteNumber(100000)
```

### 3. ë°ì´í„° ìˆ˜ì‹ 

#### í…ìŠ¤íŠ¸ ìˆ˜ì‹  (Clock ì‚¬ìš©)
```
Designer:
  Clock_Receive:
    - TimerInterval: 100 (0.1ì´ˆ)
    - TimerEnabled: true

Blocks:
  Clock_Receive.Timer:
    if BluetoothClient1.IsConnected
    then
      if BluetoothClient1.BytesAvailableToReceive > 0
      then
        set receivedText to BluetoothClient1.ReceiveText(-1)
        set Label_Received.Text to receivedText
        
        // ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€
        add items to list global receivedList
          item: receivedText
```

#### êµ¬ë¶„ìë¡œ ìˆ˜ì‹ 
```
Clock_Receive.Timer:
  if BluetoothClient1.IsConnected
  then
    if BluetoothClient1.BytesAvailableToReceive > 0
    then
      // ì¤„ë°”ê¿ˆê¹Œì§€ ì½ê¸°
      set line to BluetoothClient1.ReceiveText(10)  // 10 = \n
      
      // ì‰¼í‘œë¡œ ë¶„ë¦¬
      set dataList to split text line at ","
      
      // ì²« ë²ˆì§¸ ê°’
      set value1 to select list item
        list: dataList
        index: 1
```

### 4. ì–‘ë°©í–¥ í†µì‹ 

#### ì–‘ë°©í–¥ í†µì‹  ì‹œí€€ìŠ¤

```mermaid
sequenceDiagram
    participant A as ì•±
    participant BT as BluetoothClient
    participant AR as ì•„ë‘ì´ë…¸
    
    A->>BT: SendText("90,110,150,5_")
    BT->>AR: ëª…ë ¹ ì „ì†¡
    Note over AR: ëª…ë ¹ ì²˜ë¦¬ ì¤‘
    AR->>BT: ì‘ë‹µ ì „ì†¡ (ì˜ˆ: "OK")
    
    loop ì‘ë‹µ ëŒ€ê¸° (ìµœëŒ€ 5ì´ˆ)
        A->>BT: BytesAvailableToReceive?
        alt ë°ì´í„° ìˆìŒ
            BT-->>A: ReceiveText()
            A->>A: ì‘ë‹µ ì²˜ë¦¬
            Note over A: Clock ì¤‘ì§€
        else íƒ€ì„ì•„ì›ƒ
            Note over A: 5ì´ˆ ê²½ê³¼
            A->>A: íƒ€ì„ì•„ì›ƒ ì²˜ë¦¬
        end
    end
```

```
ì „ì—­ ë³€ìˆ˜:
  initialize global commandQueue to create empty list
  initialize global responseTimeout to 0

// ëª…ë ¹ ì „ì†¡ ë° ì‘ë‹µ ëŒ€ê¸°
Procedure sendCommandAndWait (command):
  if BluetoothClient1.IsConnected
  then
    call BluetoothClient1.SendText(command)
    set global responseTimeout to 0
    set Clock_WaitResponse.TimerEnabled to true

Clock_WaitResponse.Timer:
  set global responseTimeout to (global responseTimeout + 1)
  
  if BluetoothClient1.BytesAvailableToReceive > 0
  then
    set response to BluetoothClient1.ReceiveText(-1)
    set Label_Response.Text to response
    set Clock_WaitResponse.TimerEnabled to false
    
  else if global responseTimeout > 50  // 5ì´ˆ íƒ€ì„ì•„ì›ƒ
  then
    call Notifier1.ShowAlert("ì‘ë‹µ ì—†ìŒ")
    set Clock_WaitResponse.TimerEnabled to false
```

---

## ë°ì´í„° ì €ì¥ (TinyDB)

### TinyDB ë°ì´í„° íë¦„

```mermaid
graph LR
    A[ì‚¬ìš©ì ì…ë ¥] --> B[StoreValue]
    B --> C[TinyDB<br/>ë¡œì»¬ ì €ì¥ì†Œ]
    C --> D[GetValue]
    D --> E[í™”ë©´ í‘œì‹œ]
    
    F[ë¦¬ìŠ¤íŠ¸ ë°ì´í„°] --> G[StoreValue<br/>tag: list]
    G --> C
    C --> H[GetValue<br/>tag: list]
    H --> I[ë¦¬ìŠ¤íŠ¸ ì²˜ë¦¬]
    
    J[ClearTag] --> C
    K[ClearAll] --> C
    
    style C fill:#fff9c4
    style B fill:#c8e6c9
    style D fill:#e3f2fd
    style J fill:#ffcdd2
    style K fill:#ffcdd2
```

### 1. ê¸°ë³¸ ì €ì¥ ë° ë¶ˆëŸ¬ì˜¤ê¸°

#### ë‹¨ì¼ ê°’ ì €ì¥
```
Button_Save.Click:
  set name to TextBox_Name.Text
  call TinyDB1.StoreValue(
    tag: "userName",
    valueToStore: name
  )
  call Notifier1.ShowAlert("ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤")
```

#### ë‹¨ì¼ ê°’ ë¶ˆëŸ¬ì˜¤ê¸°
```
Button_Load.Click:
  set name to TinyDB1.GetValue(
    tag: "userName",
    valueIfTagNotThere: "ì´ë¦„ ì—†ìŒ"
  )
  set Label_Name.Text to name
```

### 2. ë¦¬ìŠ¤íŠ¸ ì €ì¥

#### ë¦¬ìŠ¤íŠ¸ ì €ì¥
```
Button_SaveList.Click:
  set scoreList to make a list
    item: 100
    item: 85
    item: 92
    item: 78
  
  call TinyDB1.StoreValue(
    tag: "scores",
    valueToStore: scoreList
  )
```

#### ë¦¬ìŠ¤íŠ¸ ë¶ˆëŸ¬ì˜¤ê¸°
```
Button_LoadList.Click:
  set scoreList to TinyDB1.GetValue(
    tag: "scores",
    valueIfTagNotThere: create empty list
  )
  
  // ë¦¬ìŠ¤íŠ¸ í‘œì‹œ
  set Label_Scores.Text to join list scoreList separator: ", "
```

### 3. ë³µì¡í•œ ë°ì´í„° ì €ì¥

#### ë”•ì…”ë„ˆë¦¬ í˜•íƒœë¡œ ì €ì¥
```
Button_SaveUser.Click:
  // ì‚¬ìš©ì ì •ë³´ë¥¼ ë¦¬ìŠ¤íŠ¸ë¡œ ì €ì¥
  set userInfo to make a list
    item: TextBox_Name.Text
    item: TextBox_Age.Text
    item: TextBox_Email.Text
  
  call TinyDB1.StoreValue(
    tag: "userInfo",
    valueToStore: userInfo
  )
```

#### ë¶ˆëŸ¬ì™€ì„œ ì‚¬ìš©
```
Button_LoadUser.Click:
  set userInfo to TinyDB1.GetValue(
    tag: "userInfo",
    valueIfTagNotThere: create empty list
  )
  
  if length of list userInfo > 0
  then
    set TextBox_Name.Text to select list item
      list: userInfo
      index: 1
    set TextBox_Age.Text to select list item
      list: userInfo
      index: 2
    set TextBox_Email.Text to select list item
      list: userInfo
      index: 3
```

### 4. ì—¬ëŸ¬ í•­ëª© ê´€ë¦¬

#### í•­ëª© ì¶”ê°€
```
Button_AddItem.Click:
  // ê¸°ì¡´ ë¦¬ìŠ¤íŠ¸ ë¶ˆëŸ¬ì˜¤ê¸°
  set itemList to TinyDB1.GetValue(
    tag: "items",
    valueIfTagNotThere: create empty list
  )
  
  // ìƒˆ í•­ëª© ì¶”ê°€
  add items to list itemList
    item: TextBox_NewItem.Text
  
  // ë‹¤ì‹œ ì €ì¥
  call TinyDB1.StoreValue(
    tag: "items",
    valueToStore: itemList
  )
  
  set TextBox_NewItem.Text to ""
```

#### í•­ëª© ì‚­ì œ
```
Button_DeleteItem.Click:
  set itemList to TinyDB1.GetValue(
    tag: "items",
    valueIfTagNotThere: create empty list
  )
  
  // íŠ¹ì • ì¸ë±ìŠ¤ ì‚­ì œ
  remove list item
    list: itemList
    index: Spinner_Items.SelectionIndex
  
  // ë‹¤ì‹œ ì €ì¥
  call TinyDB1.StoreValue(
    tag: "items",
    valueToStore: itemList
  )
```

### 5. ì „ì²´ ë°ì´í„° ê´€ë¦¬

#### ëª¨ë“  íƒœê·¸ ê°€ì ¸ì˜¤ê¸°
```
Button_ShowAll.Click:
  set allTags to TinyDB1.GetTags
  set Label_Tags.Text to join list allTags separator: "\n"
```

#### íŠ¹ì • íƒœê·¸ ì‚­ì œ
```
Button_ClearTag.Click:
  call TinyDB1.ClearTag("userName")
  call Notifier1.ShowAlert("ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤")
```

#### ëª¨ë“  ë°ì´í„° ì‚­ì œ
```
Button_ClearAll.Click:
  call Notifier1.ShowChooseDialog(
    message: "ëª¨ë“  ë°ì´í„°ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?",
    title: "í™•ì¸",
    button1Text: "ì˜ˆ",
    button2Text: "ì•„ë‹ˆì˜¤"
  )

Notifier1.AfterChoosing:
  if choice = "ì˜ˆ"
  then
    call TinyDB1.ClearAll
    call Notifier1.ShowAlert("ëª¨ë“  ë°ì´í„°ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤")
```

---

## ì°¨íŠ¸ ì‚¬ìš©

### ì°¨íŠ¸ ìƒì„± í”„ë¡œì„¸ìŠ¤

```mermaid
flowchart TD
    A[ë°ì´í„° ì¤€ë¹„] --> B[xData ë¦¬ìŠ¤íŠ¸]
    A --> C[yData ë¦¬ìŠ¤íŠ¸]
    B --> D[ImportFromList]
    C --> D
    D --> E{ì°¨íŠ¸ íƒ€ì… ì„ íƒ}
    E -->|ì„  ê·¸ë˜í”„| F[DrawLineChart]
    E -->|ë§‰ëŒ€ ê·¸ë˜í”„| G[DrawBarChart]
    F --> H[Canvasì— í‘œì‹œ]
    G --> H
    
    I[ì‹¤ì‹œê°„ ë°ì´í„°] --> J[ìƒˆ ë°ì´í„° ì¶”ê°€]
    J --> K[ë¦¬ìŠ¤íŠ¸ í¬ê¸° ì²´í¬]
    K --> L{20ê°œ ì´ˆê³¼?}
    L -->|Yes| M[ì²« ë²ˆì§¸ í•­ëª© ì‚­ì œ]
    L -->|No| N[Canvas.Clear]
    M --> N
    N --> D
    
    style A fill:#e3f2fd
    style H fill:#c8e6c9
    style J fill:#fff9c4
```

### 1. ChartData2D í™•ì¥ ê¸°ëŠ¥ ì‚¬ìš©

#### í•„ìš”í•œ ì„¤ì •
```
Extensions:
  - ChartData2D.aix ë‹¤ìš´ë¡œë“œ ë° ì¶”ê°€
  
Components:
  - Canvas1 (ì°¨íŠ¸ë¥¼ ê·¸ë¦´ ìº”ë²„ìŠ¤)
  - ChartData2D1 (ì°¨íŠ¸ ë°ì´í„° ê´€ë¦¬)
```

### 2. ì„  ê·¸ë˜í”„ (Line Chart)

#### ë°ì´í„° ì¤€ë¹„
```
Screen1.Initialize:
  // Xì¶• ë°ì´í„°
  set xData to make a list
    item: 1
    item: 2
    item: 3
    item: 4
    item: 5
  
  // Yì¶• ë°ì´í„°
  set yData to make a list
    item: 10
    item: 25
    item: 15
    item: 30
    item: 20
```

#### ì°¨íŠ¸ ê·¸ë¦¬ê¸°
```
Button_DrawChart.Click:
  // ì°¨íŠ¸ ë°ì´í„° ì„¤ì •
  call ChartData2D1.ImportFromList(
    xList: global xData,
    yList: global yData
  )
  
  // ì„  ê·¸ë˜í”„ ê·¸ë¦¬ê¸°
  call ChartData2D1.DrawLineChart(
    canvas: Canvas1,
    color: íŒŒë€ìƒ‰,
    lineWidth: 3
  )
```

### 3. ë§‰ëŒ€ ê·¸ë˜í”„ (Bar Chart)

```
Button_DrawBarChart.Click:
  // ë°ì´í„° ì„¤ì •
  set labels to make a list
    item: "ì›”"
    item: "í™”"
    item: "ìˆ˜"
    item: "ëª©"
    item: "ê¸ˆ"
  
  set values to make a list
    item: 85
    item: 92
    item: 78
    item: 95
    item: 88
  
  // ë§‰ëŒ€ ê·¸ë˜í”„ ê·¸ë¦¬ê¸°
  call ChartData2D1.ImportFromList(
    xList: labels,
    yList: values
  )
  
  call ChartData2D1.DrawBarChart(
    canvas: Canvas1,
    color: ì´ˆë¡ìƒ‰,
    barWidth: 30
  )
```

### 4. ì‹¤ì‹œê°„ ì°¨íŠ¸ ì—…ë°ì´íŠ¸

```
ì „ì—­ ë³€ìˆ˜:
  initialize global dataPoints to create empty list
  initialize global timeStamp to 0

Clock_UpdateChart.Timer:
  // ìƒˆ ë°ì´í„° í¬ì¸íŠ¸ ì¶”ê°€
  set global timeStamp to (global timeStamp + 1)
  set newValue to random integer from 0 to 100
  
  add items to list global dataPoints
    item: newValue
  
  // ìµœëŒ€ 20ê°œ ë°ì´í„°ë§Œ ìœ ì§€
  if length of list global dataPoints > 20
  then
    remove list item
      list: global dataPoints
      index: 1
  
  // ì°¨íŠ¸ ë‹¤ì‹œ ê·¸ë¦¬ê¸°
  call Canvas1.Clear
  call ChartData2D1.ImportFromList(
    xList: range(1, length of list global dataPoints),
    yList: global dataPoints
  )
  call ChartData2D1.DrawLineChart(
    canvas: Canvas1,
    color: ë¹¨ê°„ìƒ‰,
    lineWidth: 2
  )
```

### 5. Canvasë¡œ ê°„ë‹¨í•œ ì°¨íŠ¸

#### ë§‰ëŒ€ ê·¸ë˜í”„ ì§ì ‘ ê·¸ë¦¬ê¸°
```
Procedure drawSimpleBarChart (values):
  call Canvas1.Clear
  
  set barWidth to Canvas1.Width / length of list values
  set maxValue to max(values)
  
  set index to 1
  for each value in list values
    set barHeight to (value / maxValue) * Canvas1.Height
    set x to (index - 1) * barWidth
    set y to Canvas1.Height - barHeight
    
    call Canvas1.DrawRect(
      x: x,
      y: y,
      width: barWidth - 5,
      height: barHeight,
      fill: true
    )
    
    set index to (index + 1)
```

---

## ë¯¸ë””ì–´ ì‚¬ìš©

### ë¯¸ë””ì–´ ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°

```mermaid
graph TB
    A[ë¯¸ë””ì–´ ì»´í¬ë„ŒíŠ¸] --> B[ì…ë ¥]
    A --> C[ì¶œë ¥]
    A --> D[ë³€í™˜]
    
    B --> E[Camera<br/>ì‚¬ì§„ ì´¬ì˜]
    B --> F[ImagePicker<br/>ì´ë¯¸ì§€ ì„ íƒ]
    B --> G[SpeechRecognizer<br/>ìŒì„± ì¸ì‹]
    B --> H[BarcodeScanner<br/>QR/ë°”ì½”ë“œ]
    
    C --> I[VideoPlayer<br/>ë¹„ë””ì˜¤ ì¬ìƒ]
    C --> J[Sound<br/>íš¨ê³¼ìŒ]
    C --> K[TextToSpeech<br/>ìŒì„± ì¶œë ¥]
    
    D --> L[ì´ë¯¸ì§€ ì²˜ë¦¬]
    D --> M[ìŒì„± ì²˜ë¦¬]
    
    E --> L
    F --> L
    G --> M
    K --> M
    
    style A fill:#e3f2fd
    style B fill:#fff9c4
    style C fill:#c8e6c9
    style D fill:#f3e5f5
```

### 1. ì¹´ë©”ë¼ (Camera)

#### ì‚¬ì§„ ì°ê¸°
```
Button_TakePicture.Click:
  call Camera1.TakePicture
  
Camera1.AfterPicture:
  set Image1.Picture to image
  
  // ì´ë¯¸ì§€ ê²½ë¡œ ì €ì¥
  call TinyDB1.StoreValue(
    tag: "lastPhoto",
    valueToStore: image
  )
  
  set Label_Status.Text to "ì‚¬ì§„ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤"
```

### 2. ì´ë¯¸ì§€ í”¼ì»¤ (ImagePicker)

#### ê°¤ëŸ¬ë¦¬ì—ì„œ ì„ íƒ
```
Button_SelectImage.Click:
  call ImagePicker1.Open

ImagePicker1.AfterPicking:
  set Image1.Picture to ImagePicker1.Selection
  set Label_ImagePath.Text to ImagePicker1.Selection
```

### 3. ë¹„ë””ì˜¤ í”Œë ˆì´ì–´ (VideoPlayer)

#### ë¹„ë””ì˜¤ ì¬ìƒ
```
Button_PlayVideo.Click:
  set VideoPlayer1.Source to "video.mp4"  // assetsì—ì„œ
  call VideoPlayer1.Start

Button_PauseVideo.Click:
  call VideoPlayer1.Pause

Button_StopVideo.Click:
  call VideoPlayer1.Stop

VideoPlayer1.Completed:
  set Label_Status.Text to "ì¬ìƒ ì™„ë£Œ"
```

### 4. ì‚¬ìš´ë“œ (Sound)

#### íš¨ê³¼ìŒ ì¬ìƒ
```
Button_PlaySound.Click:
  set Sound1.Source to "beep.mp3"
  call Sound1.Play

Button_StopSound.Click:
  call Sound1.Stop
```

### 5. ìŒì„± ì¸ì‹ (SpeechRecognizer)

#### ìŒì„± ì…ë ¥
```
Button_VoiceInput.Click:
  call SpeechRecognizer1.GetText

SpeechRecognizer1.AfterGettingText:
  set Label_Result.Text to result
  
  // ìŒì„± ëª…ë ¹ ì²˜ë¦¬
  if result = "ì´ˆê¸° ìœ„ì¹˜"
  then
    call BluetoothClient1.SendText("90,110,150,5_")
  else if result = "ë¬¼ê±´ ì§‘ì–´"
  then
    call BluetoothClient1.SendText("90,150,120,40_")
```

### 6. í…ìŠ¤íŠ¸ ìŒì„± ë³€í™˜ (TextToSpeech)

#### í…ìŠ¤íŠ¸ ì½ê¸°
```
Button_Speak.Click:
  set message to TextBox_Message.Text
  call TextToSpeech1.Speak(message)

TextToSpeech1.AfterSpeaking:
  set Label_Status.Text to "ì½ê¸° ì™„ë£Œ"
```

### 7. ë°”ì½”ë“œ ìŠ¤ìºë„ˆ (BarcodeScanner)

#### QR ì½”ë“œ / ë°”ì½”ë“œ ìŠ¤ìº”
```
Button_Scan.Click:
  call BarcodeScanner1.DoScan

BarcodeScanner1.AfterScan:
  set Label_Result.Text to result
  
  // URLì´ë©´ ì›¹ë¸Œë¼ìš°ì €ë¡œ ì—´ê¸°
  if starts at text result piece "http"
  then
    call ActivityStarter1.StartActivity
```

---

## HTTP í†µì‹ 

### HTTP í†µì‹  ì•„í‚¤í…ì²˜

```mermaid
sequenceDiagram
    participant A as ì•±
    participant W as Web ì»´í¬ë„ŒíŠ¸
    participant S as ì„œë²„ API
    participant DB as ë°ì´í„°ë² ì´ìŠ¤
    
    Note over A,DB: GET ìš”ì²­
    A->>W: Set URL + Get()
    W->>S: HTTP GET
    S->>DB: ë°ì´í„° ì¡°íšŒ
    DB-->>S: ë°ì´í„° ë°˜í™˜
    S-->>W: JSON ì‘ë‹µ
    W->>A: GotText ì´ë²¤íŠ¸
    A->>A: JsonTextDecode
    A->>A: í™”ë©´ í‘œì‹œ
    
    Note over A,DB: POST ìš”ì²­
    A->>A: JsonTextEncode
    A->>W: Set URL + PostText(JSON)
    W->>S: HTTP POST
    S->>DB: ë°ì´í„° ì €ì¥
    DB-->>S: ì„±ê³µ/ì‹¤íŒ¨
    S-->>W: ì‘ë‹µ (200/400/500)
    W->>A: GotText ì´ë²¤íŠ¸
    A->>A: ìƒíƒœ ì½”ë“œ í™•ì¸
```

### REST API ë©”ì„œë“œ

```mermaid
graph LR
    A[REST API] --> B[GET<br/>ì¡°íšŒ]
    A --> C[POST<br/>ìƒì„±]
    A --> D[PUT<br/>ìˆ˜ì •]
    A --> E[DELETE<br/>ì‚­ì œ]
    
    B --> F[200 OK]
    C --> G[201 Created]
    D --> F
    E --> H[204 No Content]
    
    B --> I[404 Not Found]
    C --> J[400 Bad Request]
    D --> I
    E --> I
    
    style B fill:#e3f2fd
    style C fill:#c8e6c9
    style D fill:#fff9c4
    style E fill:#ffcdd2
```

### 1. Web ì»´í¬ë„ŒíŠ¸ ê¸°ë³¸

#### GET ìš”ì²­
```
Button_Get.Click:
  set Web1.Url to "https://api.example.com/data"
  call Web1.Get

Web1.GotText:
  set Label_Response.Text to responseContent
  set Label_Status.Text to join("ìƒíƒœ ì½”ë“œ: ", responseCode)
```

#### POST ìš”ì²­
```
Button_Post.Click:
  set Web1.Url to "https://api.example.com/submit"
  
  // POST ë°ì´í„° ì„¤ì •
  set postData to join(
    "name=", TextBox_Name.Text,
    "&age=", TextBox_Age.Text,
    "&email=", TextBox_Email.Text
  )
  
  call Web1.PostText(postData)

Web1.GotText:
  set Label_Response.Text to responseContent
```

### 2. JSON ë°ì´í„° ì²˜ë¦¬

#### JSON ì²˜ë¦¬ íë¦„

```mermaid
flowchart LR
    subgraph "JSON íŒŒì‹± (ì„œë²„ â†’ ì•±)"
        A[JSON ë¬¸ìì—´] --> B[JsonTextDecode]
        B --> C[ë”•ì…”ë„ˆë¦¬/ë¦¬ìŠ¤íŠ¸]
        C --> D[lookup in pairs]
        D --> E[ê°’ ì¶”ì¶œ]
    end
    
    subgraph "JSON ìƒì„± (ì•± â†’ ì„œë²„)"
        F[ë°ì´í„°] --> G[make a dictionary]
        G --> H[ë”•ì…”ë„ˆë¦¬]
        H --> I[JsonTextEncode]
        I --> J[JSON ë¬¸ìì—´]
        J --> K[PostText]
    end
    
    style B fill:#e3f2fd
    style I fill:#c8e6c9
```

#### JSON íŒŒì‹±
```
Web1.GotText:
  // JSON ì‘ë‹µ ì˜ˆì‹œ: {"temperature":25,"humidity":60}
  
  // JsonTextDecode ì‚¬ìš©
  set jsonData to call Web1.JsonTextDecode(responseContent)
  
  // ê°’ ì¶”ì¶œ
  set temperature to lookup in pairs
    list: jsonData
    key: "temperature"
    notFound: 0
  
  set humidity to lookup in pairs
    list: jsonData
    key: "humidity"
    notFound: 0
  
  set Label_Temp.Text to join("ì˜¨ë„: ", temperature, "Â°C")
  set Label_Humid.Text to join("ìŠµë„: ", humidity, "%")
```

#### JSON ìƒì„±
```
Button_SendJson.Click:
  // ë”•ì…”ë„ˆë¦¬ ìƒì„±
  set jsonData to make a dictionary
    pair: "name" : TextBox_Name.Text
    pair: "value" : Slider1.ThumbPosition
    pair: "timestamp" : Clock1.Now
  
  // JSON ë¬¸ìì—´ë¡œ ë³€í™˜
  set jsonString to call Web1.JsonTextEncode(jsonData)
  
  // POST ì „ì†¡
  set Web1.Url to "https://api.example.com/data"
  call Web1.PostText(jsonString)
```

### 3. REST API ì‚¬ìš©

#### GET - ë°ì´í„° ì¡°íšŒ
```
Button_GetUser.Click:
  set userId to TextBox_UserId.Text
  set Web1.Url to join("https://api.example.com/users/", userId)
  call Web1.Get

Web1.GotText:
  if responseCode = 200
  then
    set userData to call Web1.JsonTextDecode(responseContent)
    set Label_UserName.Text to get value for key userData key "name"
    set Label_UserEmail.Text to get value for key userData key "email"
  else
    call Notifier1.ShowAlert("ì‚¬ìš©ìë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤")
```

#### POST - ë°ì´í„° ìƒì„±
```
Button_CreateUser.Click:
  set Web1.Url to "https://api.example.com/users"
  
  set newUser to make a dictionary
    pair: "name" : TextBox_Name.Text
    pair: "email" : TextBox_Email.Text
    pair: "age" : TextBox_Age.Text
  
  set jsonString to call Web1.JsonTextEncode(newUser)
  call Web1.PostText(jsonString)

Web1.GotText:
  if responseCode = 201
  then
    call Notifier1.ShowAlert("ì‚¬ìš©ìê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤")
  else
    call Notifier1.ShowAlert("ìƒì„± ì‹¤íŒ¨")
```

#### PUT - ë°ì´í„° ìˆ˜ì •
```
Button_UpdateUser.Click:
  set userId to TextBox_UserId.Text
  set Web1.Url to join("https://api.example.com/users/", userId)
  
  set updateData to make a dictionary
    pair: "name" : TextBox_Name.Text
    pair: "email" : TextBox_Email.Text
  
  set jsonString to call Web1.JsonTextEncode(updateData)
  call Web1.PutText(jsonString)

Web1.GotText:
  if responseCode = 200
  then
    call Notifier1.ShowAlert("ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤")
```

#### DELETE - ë°ì´í„° ì‚­ì œ
```
Button_DeleteUser.Click:
  call Notifier1.ShowChooseDialog(
    message: "ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?",
    title: "í™•ì¸",
    button1Text: "ì˜ˆ",
    button2Text: "ì•„ë‹ˆì˜¤"
  )

Notifier1.AfterChoosing:
  if choice = "ì˜ˆ"
  then
    set userId to TextBox_UserId.Text
    set Web1.Url to join("https://api.example.com/users/", userId)
    call Web1.Delete
```

### 4. í—¤ë” ì„¤ì •

#### Authorization í—¤ë”
```
Button_AuthRequest.Click:
  set Web1.Url to "https://api.example.com/protected"
  
  // í—¤ë” ì„¤ì •
  set Web1.RequestHeaders to make a list
    item: make a list
      item: "Authorization"
      item: join("Bearer ", global apiToken)
    item: make a list
      item: "Content-Type"
      item: "application/json"
  
  call Web1.Get
```

### 5. ì˜¤ë¥˜ ì²˜ë¦¬

#### HTTP ìƒíƒœ ì½”ë“œ ì²˜ë¦¬

```mermaid
graph TD
    A[Web1.GotText] --> B{responseCode}
    
    B -->|200| C[ì„±ê³µ<br/>ë°ì´í„° í‘œì‹œ]
    B -->|201| D[ìƒì„± ì™„ë£Œ<br/>ì•Œë¦¼ í‘œì‹œ]
    B -->|400| E[ì˜ëª»ëœ ìš”ì²­<br/>ì…ë ¥ í™•ì¸]
    B -->|401| F[ì¸ì¦ í•„ìš”<br/>ë¡œê·¸ì¸ ìš”ì²­]
    B -->|404| G[ë°ì´í„° ì—†ìŒ<br/>ê²½ê³  í‘œì‹œ]
    B -->|500| H[ì„œë²„ ì˜¤ë¥˜<br/>ì¬ì‹œë„ ì•ˆë‚´]
    B -->|ê¸°íƒ€| I[ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜<br/>ì½”ë“œ í‘œì‹œ]
    
    C --> J[ì •ìƒ ì²˜ë¦¬]
    D --> J
    E --> K[ì˜¤ë¥˜ ì²˜ë¦¬]
    F --> K
    G --> K
    H --> K
    I --> K
    
    style C fill:#c8e6c9
    style D fill:#c8e6c9
    style E fill:#fff9c4
    style F fill:#fff9c4
    style G fill:#fff9c4
    style H fill:#ffcdd2
    style I fill:#ffcdd2
```

```
Web1.GotText:
  if responseCode = 200
  then
    // ì„±ê³µ
    set Label_Response.Text to responseContent
    
  else if responseCode = 400
  then
    call Notifier1.ShowAlert("ì˜ëª»ëœ ìš”ì²­ì…ë‹ˆë‹¤")
    
  else if responseCode = 401
  then
    call Notifier1.ShowAlert("ì¸ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤")
    
  else if responseCode = 404
  then
    call Notifier1.ShowAlert("ë°ì´í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤")
    
  else if responseCode = 500
  then
    call Notifier1.ShowAlert("ì„œë²„ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤")
    
  else
    call Notifier1.ShowAlert(join("ì˜¤ë¥˜ ì½”ë“œ: ", responseCode))
```

### 6. ì‹¤ì‹œê°„ ë°ì´í„° ëª¨ë‹ˆí„°ë§

```
ì „ì—­ ë³€ìˆ˜:
  initialize global isMonitoring to false

Button_StartMonitoring.Click:
  set global isMonitoring to true
  set Clock_Monitor.TimerEnabled to true
  set Button_StartMonitoring.Enabled to false
  set Button_StopMonitoring.Enabled to true

Button_StopMonitoring.Click:
  set global isMonitoring to false
  set Clock_Monitor.TimerEnabled to false
  set Button_StartMonitoring.Enabled to true
  set Button_StopMonitoring.Enabled to false

Clock_Monitor.Timer (ë§¤ 5ì´ˆ):
  if global isMonitoring
  then
    set Web1.Url to "https://api.example.com/sensor/data"
    call Web1.Get

Web1.GotText:
  set sensorData to call Web1.JsonTextDecode(responseContent)
  
  set temperature to get value for key sensorData key "temperature"
  set humidity to get value for key sensorData key "humidity"
  
  set Label_Temp.Text to join(temperature, "Â°C")
  set Label_Humid.Text to join(humidity, "%")
  
  // ì°¨íŠ¸ì— ì¶”ê°€
  add items to list global dataPoints
    item: temperature
```

---

## í†µí•© ì˜ˆì œ

### IoT ì„¼ì„œ ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```mermaid
graph TB
    subgraph "í•˜ë“œì›¨ì–´"
        A[ì„¼ì„œ] --> B[ì•„ë‘ì´ë…¸]
        B --> C[HC-05<br/>Bluetooth]
    end
    
    subgraph "ì•±ì¸ë²¤í„° ì•±"
        D[BluetoothClient] --> E[ë°ì´í„° ìˆ˜ì‹ ]
        E --> F[íŒŒì‹±]
        F --> G[í™”ë©´ í‘œì‹œ]
        F --> H[TinyDB ì €ì¥]
        F --> I[ì°¨íŠ¸ ì—…ë°ì´íŠ¸]
        F --> J[ì„œë²„ ì „ì†¡]
    end
    
    subgraph "í´ë¼ìš°ë“œ"
        K[Web API] --> L[ë°ì´í„°ë² ì´ìŠ¤]
        L --> M[ë°ì´í„° ë¶„ì„]
    end
    
    C --> D
    J --> K
    
    style E fill:#e3f2fd
    style H fill:#fff9c4
    style I fill:#c8e6c9
    style J fill:#f3e5f5
```

### ë°ì´í„° íë¦„ë„

```mermaid
sequenceDiagram
    participant S as ì„¼ì„œ
    participant A as ì•„ë‘ì´ë…¸
    participant BT as Bluetooth
    participant APP as ì•±
    participant DB as TinyDB
    participant CH as ì°¨íŠ¸
    participant API as ì„œë²„
    
    loop ë§¤ 100ms
        S->>A: ì„¼ì„œ ê°’ ì½ê¸°
        A->>BT: ë°ì´í„° ì „ì†¡
        BT->>APP: ReceiveText
        APP->>APP: íŒŒì‹± (TEMP:25,HUMID:60)
        
        par ë³‘ë ¬ ì²˜ë¦¬
            APP->>APP: í™”ë©´ í‘œì‹œ
        and
            APP->>DB: StoreValue
        and
            APP->>CH: ì°¨íŠ¸ ì—…ë°ì´íŠ¸
        and
            APP->>API: HTTP POST
        end
    end
```

### ì˜ˆì œ: IoT ì„¼ì„œ ëª¨ë‹ˆí„°ë§ ì•±

```
Components:
  - BluetoothClient1 (Bluetooth í†µì‹ )
  - TinyDB1 (ë°ì´í„° ì €ì¥)
  - Canvas1 (ì°¨íŠ¸)
  - Web1 (ì„œë²„ í†µì‹ )
  - Clock_Update (ì£¼ê¸°ì  ì—…ë°ì´íŠ¸)

ì „ì—­ ë³€ìˆ˜:
  initialize global sensorData to create empty list
  initialize global isConnected to false

Screen1.Initialize:
  // ì €ì¥ëœ ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°
  set global sensorData to TinyDB1.GetValue(
    tag: "sensorHistory",
    valueIfTagNotThere: create empty list
  )

// Bluetooth ì—°ê²°
ListPicker_BT.AfterPicking:
  if call BluetoothClient1.Connect(ListPicker_BT.Selection)
  then
    set global isConnected to true
    set Clock_Update.TimerEnabled to true
    set Label_Status.Text to "ì—°ê²°ë¨"

// ë°ì´í„° ìˆ˜ì‹  ë° ì²˜ë¦¬
Clock_Update.Timer:
  if global isConnected
  then
    if BluetoothClient1.BytesAvailableToReceive > 0
    then
      // ë°ì´í„° ìˆ˜ì‹ 
      set receivedData to BluetoothClient1.ReceiveText(-1)
      
      // íŒŒì‹± (ì˜ˆ: "TEMP:25,HUMID:60")
      set dataList to split text receivedData at ","
      set temp to select list item list dataList index 1
      set humid to select list item list dataList index 2
      
      // í™”ë©´ í‘œì‹œ
      set Label_Temp.Text to temp
      set Label_Humid.Text to humid
      
      // ë¡œì»¬ ì €ì¥
      add items to list global sensorData
        item: make a list
          item: Clock1.Now
          item: temp
          item: humid
      
      call TinyDB1.StoreValue(
        tag: "sensorHistory",
        valueToStore: global sensorData
      )
      
      // ì°¨íŠ¸ ì—…ë°ì´íŠ¸
      call updateChart
      
      // ì„œë²„ì— ì „ì†¡
      call uploadToServer(temp, humid)

// ì°¨íŠ¸ ì—…ë°ì´íŠ¸
Procedure updateChart:
  // ìµœê·¼ 20ê°œ ë°ì´í„°ë§Œ í‘œì‹œ
  set recentData to take last 20 items from global sensorData
  
  call Canvas1.Clear
  // ì°¨íŠ¸ ê·¸ë¦¬ê¸° ë¡œì§...

// ì„œë²„ ì—…ë¡œë“œ
Procedure uploadToServer (temperature, humidity):
  set Web1.Url to "https://api.example.com/sensor"
  
  set jsonData to make a dictionary
    pair: "temperature" : temperature
    pair: "humidity" : humidity
    pair: "timestamp" : Clock1.Now
  
  set jsonString to call Web1.JsonTextEncode(jsonData)
  call Web1.PostText(jsonString)

Web1.GotText:
  if responseCode = 200
  then
    set Label_Upload.Text to "ì—…ë¡œë“œ ì™„ë£Œ"
  else
    set Label_Upload.Text to "ì—…ë¡œë“œ ì‹¤íŒ¨"
```

---

## ìš”ì•½

### ì•±ì¸ë²¤í„° ê¸°ëŠ¥ ìš”ì•½ ë§µ

```mermaid
graph TB
    A[ì•±ì¸ë²¤í„° ì•±] --> B[ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤]
    A --> C[ë°ì´í„° ê´€ë¦¬]
    A --> D[í†µì‹ ]
    A --> E[ì‹œê°í™”]
    A --> F[ë¯¸ë””ì–´]
    
    B --> B1[Button, Label, TextBox]
    B --> B2[Slider, CheckBox]
    B --> B3[ListPicker, Spinner]
    B --> B4[Notifier, Arrangement]
    
    C --> C1[TinyDB<br/>ë¡œì»¬ ì €ì¥]
    C --> C2[ë¦¬ìŠ¤íŠ¸ ê´€ë¦¬]
    C --> C3[íƒœê·¸ ì‹œìŠ¤í…œ]
    
    D --> D1[Bluetooth<br/>ê·¼ê±°ë¦¬ í†µì‹ ]
    D --> D2[HTTP/REST<br/>ì¸í„°ë„· í†µì‹ ]
    D --> D3[JSON ì²˜ë¦¬]
    
    E --> E1[Chart<br/>ë°ì´í„° ì‹œê°í™”]
    E --> E2[Canvas<br/>ê·¸ë˜í”½]
    E --> E3[ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸]
    
    F --> F1[Camera/ImagePicker<br/>ì´ë¯¸ì§€]
    F --> F2[Sound/VideoPlayer<br/>ì˜¤ë””ì˜¤/ë¹„ë””ì˜¤]
    F --> F3[SpeechRecognizer/TTS<br/>ìŒì„±]
    F --> F4[BarcodeScanner<br/>QR/ë°”ì½”ë“œ]
    
    style A fill:#e3f2fd
    style B fill:#fff9c4
    style C fill:#c8e6c9
    style D fill:#f3e5f5
    style E fill:#ffe0b2
    style F fill:#f8bbd0
```

### UI ì»´í¬ë„ŒíŠ¸
- Button, Label, TextBox, Slider
- CheckBox, ListPicker, Spinner
- Image, Notifier

### Bluetooth
- ì—°ê²°/í•´ì œ
- í…ìŠ¤íŠ¸/ë°”ì´íŠ¸ ì „ì†¡
- ì‹¤ì‹œê°„ ìˆ˜ì‹ 

### ë°ì´í„° ì €ì¥
- TinyDBë¡œ ë¡œì»¬ ì €ì¥
- ë¦¬ìŠ¤íŠ¸, ë”•ì…”ë„ˆë¦¬ ì €ì¥
- íƒœê·¸ ê´€ë¦¬

### ì°¨íŠ¸
- ì„  ê·¸ë˜í”„, ë§‰ëŒ€ ê·¸ë˜í”„
- ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸
- Canvas ì§ì ‘ ê·¸ë¦¬ê¸°

### ë¯¸ë””ì–´
- Camera, ImagePicker
- VideoPlayer, Sound
- SpeechRecognizer, TextToSpeech

### HTTP í†µì‹ 
- GET, POST, PUT, DELETE
- JSON íŒŒì‹±/ìƒì„±
- REST API ì‚¬ìš©
- ì˜¤ë¥˜ ì²˜ë¦¬

**Happy Coding! ğŸ“±ğŸ¤–**

