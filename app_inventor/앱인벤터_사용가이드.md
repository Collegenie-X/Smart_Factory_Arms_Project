# ì•±ì¸ë²¤í„° ì‚¬ìš© ê°€ì´ë“œ

## ëª©ì°¨
1. [ê¸°ë³¸ ê°œë…](#ê¸°ë³¸-ê°œë…)
2. [Bluetooth ì—°ê²°](#bluetooth-ì—°ê²°)
3. [ë¡œë´‡ íŒ” ì œì–´](#ë¡œë´‡-íŒ”-ì œì–´)
4. [ì‹œí€€ìŠ¤ ì œì–´ (1ì´ˆ ê°„ê²©)](#ì‹œí€€ìŠ¤-ì œì–´-1ì´ˆ-ê°„ê²©)
5. [ì‹¤ì „ ì˜ˆì œ](#ì‹¤ì „-ì˜ˆì œ)

---

## ê¸°ë³¸ ê°œë…

### ì•±ì¸ë²¤í„° êµ¬ì¡°

```mermaid
graph TB
    subgraph "ì•±ì¸ë²¤í„° ê°œë°œ í™˜ê²½"
        A[Designer<br/>í™”ë©´ êµ¬ì„±] --> C[Blocks<br/>ë¡œì§ êµ¬í˜„]
        B[Components<br/>ì»´í¬ë„ŒíŠ¸] --> A
        C --> D[Build<br/>APK ìƒì„±]
        D --> E[ìŠ¤ë§ˆíŠ¸í°<br/>ì„¤ì¹˜/ì‹¤í–‰]
    end
    
    subgraph "ì£¼ìš” ì»´í¬ë„ŒíŠ¸"
        F[UI<br/>ë²„íŠ¼, ë ˆì´ë¸” ë“±]
        G[Connectivity<br/>Bluetooth, WiFi]
        H[Storage<br/>TinyDB]
        I[Media<br/>ì¹´ë©”ë¼, ìŒì„±]
    end
    
    B --> F
    B --> G
    B --> H
    B --> I
    
    style A fill:#e3f2fd
    style C fill:#fff9c4
    style D fill:#c8e6c9
```

### ì•±ì¸ë²¤í„°ë€?
- ë¸”ë¡ ì½”ë”©ìœ¼ë¡œ ì•ˆë“œë¡œì´ë“œ ì•±ì„ ë§Œë“œëŠ” ë„êµ¬
- MITì—ì„œ ê°œë°œí•œ ë¬´ë£Œ êµìœ¡ìš© í”Œë«í¼
- í”„ë¡œê·¸ë˜ë° ì§€ì‹ ì—†ì´ë„ ì•± ì œì‘ ê°€ëŠ¥

### ì£¼ìš” êµ¬ì„± ìš”ì†Œ
1. **Designer (ë””ìì´ë„ˆ)**: UI í™”ë©´ êµ¬ì„±
2. **Blocks (ë¸”ë¡)**: ë™ì‘ ë¡œì§ êµ¬í˜„
3. **Components (ì»´í¬ë„ŒíŠ¸)**: ë²„íŠ¼, í…ìŠ¤íŠ¸, Bluetooth ë“±

---

## Bluetooth ì—°ê²°

### Bluetooth ì—°ê²° íë¦„ë„

```mermaid
sequenceDiagram
    participant U as ì‚¬ìš©ì
    participant A as ì•±
    participant BT as BluetoothClient
    participant HC as HC-05/06
    participant AR as ì•„ë‘ì´ë…¸
    
    U->>A: ListPicker í´ë¦­
    A->>BT: AddressesAndNames ìš”ì²­
    BT-->>A: ê¸°ê¸° ëª©ë¡ ë°˜í™˜
    A-->>U: ëª©ë¡ í‘œì‹œ
    
    U->>A: ê¸°ê¸° ì„ íƒ
    A->>BT: Connect(ì„ íƒëœ ê¸°ê¸°)
    BT->>HC: ì—°ê²° ì‹œë„
    
    alt ì—°ê²° ì„±ê³µ
        HC-->>BT: ì—°ê²° ì™„ë£Œ
        BT-->>A: true ë°˜í™˜
        A-->>U: "ì—°ê²°ë¨" í‘œì‹œ
        
        U->>A: ëª…ë ¹ ì „ì†¡
        A->>BT: SendText("90,110,150,5_")
        BT->>HC: ë°ì´í„° ì „ì†¡
        HC->>AR: ì‹œë¦¬ì–¼ ë°ì´í„°
        AR-->>HC: ì‘ë‹µ (ì„ íƒì‚¬í•­)
    else ì—°ê²° ì‹¤íŒ¨
        HC-->>BT: ì—°ê²° ì‹¤íŒ¨
        BT-->>A: false ë°˜í™˜
        A-->>U: "ì—°ê²° ì‹¤íŒ¨" í‘œì‹œ
    end
```

### 1. í•„ìš”í•œ ì»´í¬ë„ŒíŠ¸

#### Connectivity (ì—°ê²°)
- **BluetoothClient1**: Bluetooth í†µì‹  ë‹´ë‹¹

#### User Interface (ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤)
- **ListPicker1**: Bluetooth ê¸°ê¸° ì„ íƒ
- **Button_Connect**: ì—°ê²° ë²„íŠ¼
- **Label_Status**: ì—°ê²° ìƒíƒœ í‘œì‹œ

### 2. Bluetooth ì—°ê²° ë¸”ë¡

#### ê¸°ê¸° ëª©ë¡ ê°€ì ¸ì˜¤ê¸°
```
ListPicker1.BeforePicking ì´ë²¤íŠ¸:
  set ListPicker1.Elements to BluetoothClient1.AddressesAndNames
```

**ì„¤ëª…:**
- ì‚¬ìš© ê°€ëŠ¥í•œ Bluetooth ê¸°ê¸° ëª©ë¡ì„ ê°€ì ¸ì˜´
- HC-05, HC-06 ë“±ì´ í‘œì‹œë¨

#### ê¸°ê¸° ì—°ê²°í•˜ê¸°
```
ListPicker1.AfterPicking ì´ë²¤íŠ¸:
  if BluetoothClient1.Connect(ListPicker1.Selection)
  then
    set Label_Status.Text to "ì—°ê²°ë¨"
    set Label_Status.BackgroundColor to ì´ˆë¡ìƒ‰
  else
    set Label_Status.Text to "ì—°ê²° ì‹¤íŒ¨"
    set Label_Status.BackgroundColor to ë¹¨ê°„ìƒ‰
```

**ì„¤ëª…:**
- ì„ íƒí•œ ê¸°ê¸°ì— ì—°ê²° ì‹œë„
- ì„±ê³µ/ì‹¤íŒ¨ì— ë”°ë¼ ìƒíƒœ í‘œì‹œ

#### ì—°ê²° í•´ì œí•˜ê¸°
```
Button_Disconnect.Click ì´ë²¤íŠ¸:
  call BluetoothClient1.Disconnect
  set Label_Status.Text to "ì—°ê²° í•´ì œë¨"
```

### 3. ì—°ê²° í™•ì¸

```
if BluetoothClient1.IsConnected
then
  // ì—°ê²°ë˜ì–´ ìˆì„ ë•Œ ë™ì‘
else
  // ì—°ê²° ì•ˆë˜ì–´ ìˆì„ ë•Œ ê²½ê³ 
  call Notifier1.ShowAlert("Bluetoothë¥¼ ë¨¼ì € ì—°ê²°í•˜ì„¸ìš”")
```

---

## ë¡œë´‡ íŒ” ì œì–´

### ë¡œë´‡ íŒ” ì œì–´ ëª…ë ¹ êµ¬ì¡°

```mermaid
graph LR
    A[ìŠ¬ë¼ì´ë” ì…ë ¥] --> B[ê°ë„ ê°’]
    B --> C[Base: 0-180Â°]
    B --> D[Elbow: 80-150Â°]
    B --> E[Wrist: 60-120Â°]
    B --> F[Grip: 5-60Â°]
    
    C --> G[join í•¨ìˆ˜]
    D --> G
    E --> G
    F --> G
    
    G --> H[90,110,150,5_]
    H --> I[SendText]
    I --> J[Bluetooth]
    J --> K[ì•„ë‘ì´ë…¸]
    K --> L[ì„œë³´ ëª¨í„°]
    
    style A fill:#e3f2fd
    style H fill:#fff9c4
    style L fill:#c8e6c9
```

### ëª…ë ¹ì–´ í”„ë¡œí† ì½œ

```mermaid
graph TB
    A[ëª…ë ¹ì–´ íƒ€ì…] --> B[ê°ë„ ì œì–´]
    A --> C[ì €ì¥/ì¬ìƒ]
    A --> D[ìë™í™”]
    
    B --> E["ê°ë„,ê°ë„,ê°ë„,ê°ë„_"]
    C --> F["save_"]
    C --> G["play_"]
    D --> H["auto_"]
    D --> I["stop_"]
    
    E --> J[íŒŒì‹± í›„ ì„œë³´ ì´ë™]
    F --> K[EEPROM ì €ì¥]
    G --> L[EEPROM ì¬ìƒ]
    H --> M[ìë™ ëª¨ë“œ ì‹œì‘]
    I --> N[ëª¨ë“  ë™ì‘ ì¤‘ì§€]
    
    style B fill:#e3f2fd
    style C fill:#fff9c4
    style D fill:#f3e5f5
```

### 1. ê¸°ë³¸ ëª…ë ¹ ì „ì†¡

#### ê°ë„ ì œì–´
```
Button_Move.Click ì´ë²¤íŠ¸:
  set command to join(
    Slider_Base.Value,
    ",",
    Slider_Elbow.Value,
    ",",
    Slider_Wrist.Value,
    ",",
    Slider_Grip.Value,
    "_"
  )
  call BluetoothClient1.SendText(command)
```

**ì˜ˆì‹œ ì¶œë ¥:** `90,110,150,5_`

#### ì €ì¥/ì¬ìƒ ëª…ë ¹
```
Button_Save.Click ì´ë²¤íŠ¸:
  call BluetoothClient1.SendText("save_")

Button_Play.Click ì´ë²¤íŠ¸:
  call BluetoothClient1.SendText("play_")

Button_Auto.Click ì´ë²¤íŠ¸:
  call BluetoothClient1.SendText("auto_")

Button_Stop.Click ì´ë²¤íŠ¸:
  call BluetoothClient1.SendText("stop_")
```

### 2. ìŠ¬ë¼ì´ë”ë¡œ ê°ë„ ì œì–´

#### Designer ì„¤ì •
```
Slider_Base:
  - MinValue: 0
  - MaxValue: 180
  - ThumbPosition: 90

Slider_Elbow:
  - MinValue: 80
  - MaxValue: 150
  - ThumbPosition: 110

Slider_Wrist:
  - MinValue: 60
  - MaxValue: 120
  - ThumbPosition: 90

Slider_Grip:
  - MinValue: 5
  - MaxValue: 60
  - ThumbPosition: 5
```

#### ì‹¤ì‹œê°„ ê°ë„ í‘œì‹œ
```
Slider_Base.PositionChanged ì´ë²¤íŠ¸:
  set Label_Base_Value.Text to Slider_Base.ThumbPosition
```

---

## ì‹œí€€ìŠ¤ ì œì–´ (1ì´ˆ ê°„ê²©)

### ì‹œí€€ìŠ¤ ì œì–´ ë°©ë²• ë¹„êµ

```mermaid
graph TB
    subgraph "ë°©ë²• 1: ë‹¨ê³„ë³„ ì‹¤í–‰ (ê¶Œì¥)"
        A1[ì „ì—­ ë³€ìˆ˜ step] --> A2[ë²„íŠ¼ í´ë¦­]
        A2 --> A3[step = 1]
        A3 --> A4[executeStep í˜¸ì¶œ]
        A4 --> A5[Clock ì‹œì‘]
        A5 --> A6[Timer ì´ë²¤íŠ¸]
        A6 --> A7[step++]
        A7 --> A8[executeStep í˜¸ì¶œ]
        A8 --> A9{step > ìµœëŒ€ê°’?}
        A9 -->|No| A6
        A9 -->|Yes| A10[Clock ì¤‘ì§€]
    end
    
    subgraph "ë°©ë²• 2: ë¦¬ìŠ¤íŠ¸ ì‚¬ìš©"
        B1[commandList ë°°ì—´] --> B2[currentIndex = 1]
        B2 --> B3[ë¦¬ìŠ¤íŠ¸ì—ì„œ ëª…ë ¹ ê°€ì ¸ì˜¤ê¸°]
        B3 --> B4[ëª…ë ¹ ì „ì†¡]
        B4 --> B5[index++]
        B5 --> B6{index > ë¦¬ìŠ¤íŠ¸ ê¸¸ì´?}
        B6 -->|No| B3
        B6 -->|Yes| B7[ì™„ë£Œ]
    end
    
    style A4 fill:#c8e6c9
    style A10 fill:#e3f2fd
    style B3 fill:#fff9c4
    style B7 fill:#e3f2fd
```

### âš ï¸ ì¤‘ìš”: ì•±ì¸ë²¤í„°ì—ëŠ” delay í•¨ìˆ˜ê°€ ì—†ìŠµë‹ˆë‹¤!

ì•±ì¸ë²¤í„°ì—ëŠ” `delay()` ë˜ëŠ” `sleep()` í•¨ìˆ˜ê°€ ì—†ìŠµë‹ˆë‹¤. 
ëŒ€ì‹  **Clock ì»´í¬ë„ŒíŠ¸**ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‹œê°„ ì§€ì—°ì„ êµ¬í˜„í•©ë‹ˆë‹¤.

### 1. Clock ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©

#### Designer ì„¤ì •
```
Clock1:
  - TimerEnabled: false (ì´ˆê¸°ì—ëŠ” êº¼ì§)
  - TimerInterval: 1000 (1ì´ˆ = 1000ms)
```

### 2. ì‹œí€€ìŠ¤ ì œì–´ ë°©ë²•

#### ë°©ë²• 1: ë‹¨ê³„ë³„ ì‹¤í–‰ (ê¶Œì¥)

```
ì „ì—­ ë³€ìˆ˜ ì´ˆê¸°í™”:
  initialize global step to 0

Button_Start_Sequence.Click ì´ë²¤íŠ¸:
  set global step to 1
  call executeStep
  set Clock1.TimerEnabled to true

Clock1.Timer ì´ë²¤íŠ¸:
  set global step to (global step + 1)
  call executeStep
  
  if global step > 5
  then
    set Clock1.TimerEnabled to false
    set global step to 0

Procedure executeStep:
  if global step = 1
  then
    // 1ë‹¨ê³„: ì´ˆê¸° ìœ„ì¹˜
    call BluetoothClient1.SendText("90,110,150,5_")
    set Label_Status.Text to "1ë‹¨ê³„: ì´ˆê¸° ìœ„ì¹˜"
    
  else if global step = 2
  then
    // 2ë‹¨ê³„: ë¬¼ê±´ ìœ„ë¡œ ì´ë™
    call BluetoothClient1.SendText("90,150,120,5_")
    set Label_Status.Text to "2ë‹¨ê³„: ë¬¼ê±´ ìœ„ë¡œ"
    
  else if global step = 3
  then
    // 3ë‹¨ê³„: ê·¸ë¦½ ë‹«ê¸°
    call BluetoothClient1.SendText("90,150,120,40_")
    set Label_Status.Text to "3ë‹¨ê³„: ì¡ê¸°"
    
  else if global step = 4
  then
    // 4ë‹¨ê³„: ë“¤ì–´ì˜¬ë¦¬ê¸°
    call BluetoothClient1.SendText("90,80,60,40_")
    set Label_Status.Text to "4ë‹¨ê³„: ë“¤ì–´ì˜¬ë¦¬ê¸°"
    
  else if global step = 5
  then
    // 5ë‹¨ê³„: íšŒì „
    call BluetoothClient1.SendText("180,80,60,40_")
    set Label_Status.Text to "5ë‹¨ê³„: íšŒì „"
```

**ë™ì‘ íë¦„:**

```mermaid
stateDiagram-v2
    [*] --> ëŒ€ê¸°ì¤‘
    ëŒ€ê¸°ì¤‘ --> 1ë‹¨ê³„: ë²„íŠ¼ í´ë¦­<br/>step=1, Clock ì‹œì‘
    1ë‹¨ê³„ --> 2ë‹¨ê³„: 1ì´ˆ í›„<br/>step=2
    2ë‹¨ê³„ --> 3ë‹¨ê³„: 1ì´ˆ í›„<br/>step=3
    3ë‹¨ê³„ --> 4ë‹¨ê³„: 1ì´ˆ í›„<br/>step=4
    4ë‹¨ê³„ --> 5ë‹¨ê³„: 1ì´ˆ í›„<br/>step=5
    5ë‹¨ê³„ --> ì™„ë£Œ: 1ì´ˆ í›„<br/>Clock ì¤‘ì§€
    ì™„ë£Œ --> [*]
    
    ëŒ€ê¸°ì¤‘ --> ëŒ€ê¸°ì¤‘: ì¤‘ì§€ ë²„íŠ¼
    1ë‹¨ê³„ --> ì¼ì‹œì •ì§€: ì¼ì‹œì •ì§€ ë²„íŠ¼
    2ë‹¨ê³„ --> ì¼ì‹œì •ì§€: ì¼ì‹œì •ì§€ ë²„íŠ¼
    3ë‹¨ê³„ --> ì¼ì‹œì •ì§€: ì¼ì‹œì •ì§€ ë²„íŠ¼
    4ë‹¨ê³„ --> ì¼ì‹œì •ì§€: ì¼ì‹œì •ì§€ ë²„íŠ¼
    5ë‹¨ê³„ --> ì¼ì‹œì •ì§€: ì¼ì‹œì •ì§€ ë²„íŠ¼
    ì¼ì‹œì •ì§€ --> 1ë‹¨ê³„: ì¬ê°œ ë²„íŠ¼
    ì¼ì‹œì •ì§€ --> 2ë‹¨ê³„: ì¬ê°œ ë²„íŠ¼
    ì¼ì‹œì •ì§€ --> 3ë‹¨ê³„: ì¬ê°œ ë²„íŠ¼
    ì¼ì‹œì •ì§€ --> 4ë‹¨ê³„: ì¬ê°œ ë²„íŠ¼
    ì¼ì‹œì •ì§€ --> 5ë‹¨ê³„: ì¬ê°œ ë²„íŠ¼
```

#### ë°©ë²• 2: ë¦¬ìŠ¤íŠ¸ ì‚¬ìš©

```
ì „ì—­ ë³€ìˆ˜ ì´ˆê¸°í™”:
  initialize global commandList to create empty list
  initialize global currentIndex to 0

Screen1.Initialize ì´ë²¤íŠ¸:
  set global commandList to make a list
    item: "90,110,150,5_"
    item: "90,150,120,5_"
    item: "90,150,120,40_"
    item: "90,80,60,40_"
    item: "180,80,60,40_"

Button_Start_Sequence.Click ì´ë²¤íŠ¸:
  set global currentIndex to 1
  call sendNextCommand
  set Clock1.TimerEnabled to true

Clock1.Timer ì´ë²¤íŠ¸:
  set global currentIndex to (global currentIndex + 1)
  
  if global currentIndex <= length of list global commandList
  then
    call sendNextCommand
  else
    set Clock1.TimerEnabled to false
    set global currentIndex to 0
    set Label_Status.Text to "ì‹œí€€ìŠ¤ ì™„ë£Œ"

Procedure sendNextCommand:
  set command to select list item
    list: global commandList
    index: global currentIndex
  call BluetoothClient1.SendText(command)
  set Label_Status.Text to join("ë‹¨ê³„ ", global currentIndex, "/", length of list global commandList)
```

#### ë°©ë²• 3: ì—¬ëŸ¬ Clock ì‚¬ìš© (ë³µì¡í•œ ì‹œí€€ìŠ¤)

```
Clock1:
  - TimerInterval: 1000 (1ì´ˆ)
  - TimerEnabled: false

Clock2:
  - TimerInterval: 2000 (2ì´ˆ)
  - TimerEnabled: false

Button_Start.Click ì´ë²¤íŠ¸:
  // ì¦‰ì‹œ ì‹¤í–‰
  call BluetoothClient1.SendText("90,110,150,5_")
  // 1ì´ˆ í›„ ì‹¤í–‰ ì˜ˆì•½
  set Clock1.TimerEnabled to true

Clock1.Timer ì´ë²¤íŠ¸:
  set Clock1.TimerEnabled to false
  call BluetoothClient1.SendText("90,150,120,5_")
  // 2ì´ˆ í›„ ì‹¤í–‰ ì˜ˆì•½
  set Clock2.TimerEnabled to true

Clock2.Timer ì´ë²¤íŠ¸:
  set Clock2.TimerEnabled to false
  call BluetoothClient1.SendText("90,150,120,40_")
```

### 3. ì¼ì‹œ ì •ì§€ ë° ì¤‘ì§€

```
Button_Pause.Click ì´ë²¤íŠ¸:
  set Clock1.TimerEnabled to false
  set Label_Status.Text to "ì¼ì‹œ ì •ì§€"

Button_Resume.Click ì´ë²¤íŠ¸:
  set Clock1.TimerEnabled to true
  set Label_Status.Text to "ì¬ê°œ"

Button_Stop.Click ì´ë²¤íŠ¸:
  set Clock1.TimerEnabled to false
  set global step to 0
  call BluetoothClient1.SendText("stop_")
  set Label_Status.Text to "ì¤‘ì§€ë¨"
```

---

## ì‹¤ì „ ì˜ˆì œ

### ì˜ˆì œ ê°œìš”

```mermaid
graph LR
    A[ì˜ˆì œ 1<br/>ë¬¼ê±´ ì§‘ê¸°] --> D[8ë‹¨ê³„ ì‹œí€€ìŠ¤]
    B[ì˜ˆì œ 2<br/>ì¢Œìš° ìŠ¤ìº”] --> E[5ë‹¨ê³„ ìŠ¤ìº”]
    C[ì˜ˆì œ 3<br/>ë°˜ë³µ ì‘ì—…] --> F[4ë‹¨ê³„ x 3íšŒ]
    
    D --> G[ë¡œë´‡íŒ” ì œì–´]
    E --> G
    F --> G
    
    style A fill:#e3f2fd
    style B fill:#fff9c4
    style C fill:#f3e5f5
    style G fill:#c8e6c9
```

### ì˜ˆì œ 1: ë¬¼ê±´ ì§‘ê¸° ì‹œí€€ìŠ¤

#### ë¬¼ê±´ ì§‘ê¸° í”„ë¡œì„¸ìŠ¤

```mermaid
graph TD
    A[ì‹œì‘] --> B[1. ëŒ€ê¸° ìœ„ì¹˜<br/>90,110,150,5]
    B --> C[2. ë¬¼ê±´ ìœ„ë¡œ<br/>90,150,120,5]
    C --> D[3. ê·¸ë¦½ ë‹«ê¸°<br/>90,150,120,40]
    D --> E[4. ë“¤ì–´ì˜¬ë¦¬ê¸°<br/>90,80,60,40]
    E --> F[5. íšŒì „<br/>180,80,60,40]
    F --> G[6. ë‚´ë ¤ë†“ê¸°<br/>180,150,120,40]
    G --> H[7. ê·¸ë¦½ ì—´ê¸°<br/>180,150,120,5]
    H --> I[8. ì´ˆê¸° ìœ„ì¹˜<br/>90,110,150,5]
    I --> J[ì™„ë£Œ]
    
    style A fill:#e1f5ff
    style D fill:#fff9c4
    style F fill:#f3e5f5
    style H fill:#fff9c4
    style J fill:#c8e6c9
```

#### Designer êµ¬ì„±
```
Components:
  - BluetoothClient1
  - Clock_Sequence (TimerInterval: 1000)
  - Button_PickUp
  - Button_Stop
  - Label_Status
```

#### Blocks êµ¬í˜„
```
ì „ì—­ ë³€ìˆ˜:
  initialize global pickupStep to 0

Button_PickUp.Click:
  if BluetoothClient1.IsConnected
  then
    set global pickupStep to 1
    call executePickupStep
    set Clock_Sequence.TimerEnabled to true
  else
    call Notifier1.ShowAlert("Bluetooth ì—°ê²° í•„ìš”")

Clock_Sequence.Timer:
  set global pickupStep to (global pickupStep + 1)
  
  if global pickupStep <= 8
  then
    call executePickupStep
  else
    set Clock_Sequence.TimerEnabled to false
    set global pickupStep to 0
    set Label_Status.Text to "ì™„ë£Œ"

Procedure executePickupStep:
  if global pickupStep = 1
  then
    call BluetoothClient1.SendText("90,110,150,5_")
    set Label_Status.Text to "1/8: ëŒ€ê¸° ìœ„ì¹˜"
    
  else if global pickupStep = 2
  then
    call BluetoothClient1.SendText("90,150,120,5_")
    set Label_Status.Text to "2/8: ë¬¼ê±´ ìœ„ë¡œ"
    
  else if global pickupStep = 3
  then
    call BluetoothClient1.SendText("90,150,120,40_")
    set Label_Status.Text to "3/8: ì¡ê¸°"
    
  else if global pickupStep = 4
  then
    call BluetoothClient1.SendText("90,80,60,40_")
    set Label_Status.Text to "4/8: ë“¤ì–´ì˜¬ë¦¬ê¸°"
    
  else if global pickupStep = 5
  then
    call BluetoothClient1.SendText("180,80,60,40_")
    set Label_Status.Text to "5/8: íšŒì „"
    
  else if global pickupStep = 6
  then
    call BluetoothClient1.SendText("180,150,120,40_")
    set Label_Status.Text to "6/8: ë‚´ë ¤ë†“ê¸°"
    
  else if global pickupStep = 7
  then
    call BluetoothClient1.SendText("180,150,120,5_")
    set Label_Status.Text to "7/8: ë†“ê¸°"
    
  else if global pickupStep = 8
  then
    call BluetoothClient1.SendText("90,110,150,5_")
    set Label_Status.Text to "8/8: ì´ˆê¸° ìœ„ì¹˜"

Button_Stop.Click:
  set Clock_Sequence.TimerEnabled to false
  set global pickupStep to 0
  call BluetoothClient1.SendText("stop_")
  set Label_Status.Text to "ì¤‘ì§€ë¨"
```

### ì˜ˆì œ 2: ì¢Œìš° ìŠ¤ìº”

#### ìŠ¤ìº” íŒ¨í„´

```mermaid
graph LR
    A[0Â°] -->|1ì´ˆ| B[45Â°]
    B -->|1ì´ˆ| C[90Â°]
    C -->|1ì´ˆ| D[135Â°]
    D -->|1ì´ˆ| E[180Â°]
    E --> F[ì™„ë£Œ]
    
    style A fill:#e3f2fd
    style C fill:#fff9c4
    style E fill:#f3e5f5
    style F fill:#c8e6c9
```

```
ì „ì—­ ë³€ìˆ˜:
  initialize global scanAngles to create empty list
  initialize global scanIndex to 0

Screen1.Initialize:
  set global scanAngles to make a list
    item: "0,110,150,5_"
    item: "45,110,150,5_"
    item: "90,110,150,5_"
    item: "135,110,150,5_"
    item: "180,110,150,5_"

Button_Scan.Click:
  set global scanIndex to 1
  call sendScanCommand
  set Clock_Scan.TimerEnabled to true

Clock_Scan.Timer:
  set global scanIndex to (global scanIndex + 1)
  
  if global scanIndex <= length of list global scanAngles
  then
    call sendScanCommand
  else
    set Clock_Scan.TimerEnabled to false
    set global scanIndex to 0

Procedure sendScanCommand:
  set angle to select list item
    list: global scanAngles
    index: global scanIndex
  call BluetoothClient1.SendText(angle)
  set Label_Status.Text to join("ìŠ¤ìº” ", global scanIndex, "/5")
```

### ì˜ˆì œ 3: ë°˜ë³µ ì‘ì—…

#### ë°˜ë³µ ì‘ì—… ì‚¬ì´í´

```mermaid
stateDiagram-v2
    [*] --> ì‚¬ì´í´1
    
    state ì‚¬ì´í´1 {
        [*] --> ë‹¨ê³„1
        ë‹¨ê³„1 --> ë‹¨ê³„2: 1ì´ˆ
        ë‹¨ê³„2 --> ë‹¨ê³„3: 1ì´ˆ
        ë‹¨ê³„3 --> ë‹¨ê³„4: 1ì´ˆ
        ë‹¨ê³„4 --> [*]
    }
    
    ì‚¬ì´í´1 --> ì‚¬ì´í´2: repeatCount++
    
    state ì‚¬ì´í´2 {
        [*] --> ë‹¨ê³„1_2
        ë‹¨ê³„1_2 --> ë‹¨ê³„2_2: 1ì´ˆ
        ë‹¨ê³„2_2 --> ë‹¨ê³„3_2: 1ì´ˆ
        ë‹¨ê³„3_2 --> ë‹¨ê³„4_2: 1ì´ˆ
        ë‹¨ê³„4_2 --> [*]
    }
    
    ì‚¬ì´í´2 --> ì‚¬ì´í´3: repeatCount++
    
    state ì‚¬ì´í´3 {
        [*] --> ë‹¨ê³„1_3
        ë‹¨ê³„1_3 --> ë‹¨ê³„2_3: 1ì´ˆ
        ë‹¨ê³„2_3 --> ë‹¨ê³„3_3: 1ì´ˆ
        ë‹¨ê³„3_3 --> ë‹¨ê³„4_3: 1ì´ˆ
        ë‹¨ê³„4_3 --> [*]
    }
    
    ì‚¬ì´í´3 --> [*]: ì™„ë£Œ
```

```
ì „ì—­ ë³€ìˆ˜:
  initialize global repeatCount to 0
  initialize global maxRepeat to 3
  initialize global taskStep to 0

Button_Repeat.Click:
  set global repeatCount to 0
  set global taskStep to 1
  call executeTask
  set Clock_Repeat.TimerEnabled to true

Clock_Repeat.Timer:
  set global taskStep to (global taskStep + 1)
  
  if global taskStep > 4
  then
    // í•œ ì‚¬ì´í´ ì™„ë£Œ
    set global repeatCount to (global repeatCount + 1)
    set global taskStep to 1
    
    if global repeatCount >= global maxRepeat
    then
      // ëª¨ë“  ë°˜ë³µ ì™„ë£Œ
      set Clock_Repeat.TimerEnabled to false
      set Label_Status.Text to "ë°˜ë³µ ì™„ë£Œ"
    else
      // ë‹¤ìŒ ì‚¬ì´í´ ì‹œì‘
      set Label_Status.Text to join("ë°˜ë³µ ", global repeatCount + 1, "/", global maxRepeat)
  
  call executeTask

Procedure executeTask:
  if global taskStep = 1
  then
    call BluetoothClient1.SendText("90,110,150,5_")
  else if global taskStep = 2
  then
    call BluetoothClient1.SendText("90,150,120,40_")
  else if global taskStep = 3
  then
    call BluetoothClient1.SendText("180,150,120,40_")
  else if global taskStep = 4
  then
    call BluetoothClient1.SendText("180,150,120,5_")
```

---

## ê¸°ë³¸ UI ë ˆì´ì•„ì›ƒ

### ê¶Œì¥ í™”ë©´ êµ¬ì„±

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ë¡œë´‡ íŒ” ì œì–´ ì•±             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [Bluetooth ì—°ê²°]            â”‚
â”‚  ìƒíƒœ: ì—°ê²°ë¨ â—              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ë² ì´ìŠ¤:  [â”â”â—â”â”â”â”â”] 90Â°    â”‚
â”‚  íŒ”ê¿ˆì¹˜:  [â”â”â”â—â”â”â”â”] 110Â°   â”‚
â”‚  ì†ëª©:    [â”â”â”â”â”â—â”â”] 150Â°   â”‚
â”‚  ê·¸ë¦½:    [â—â”â”â”â”â”â”â”] 5Â°     â”‚
â”‚                              â”‚
â”‚  [ì „ì†¡]  [ì €ì¥]  [ì¬ìƒ]     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ì‹œí€€ìŠ¤ ì œì–´                 â”‚
â”‚  [ë¬¼ê±´ ì§‘ê¸°] [ìŠ¤ìº”] [ë°˜ë³µ]  â”‚
â”‚  [ì¼ì‹œì •ì§€] [ì¤‘ì§€]           â”‚
â”‚                              â”‚
â”‚  ì§„í–‰: 3/8 ë‹¨ê³„              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ë¹ ë¥¸ ë™ì‘                   â”‚
â”‚  [ì´ˆê¸°ìœ„ì¹˜] [ì™¼ìª½] [ì˜¤ë¥¸ìª½] â”‚
â”‚  [ìœ„ë¡œ] [ì•„ë˜ë¡œ] [ì¡ê¸°]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ë””ë²„ê¹… íŒ

### 1. ì—°ê²° ìƒíƒœ í™•ì¸
```
Clock_Check.Timer (ë§¤ 500ms):
  if BluetoothClient1.IsConnected
  then
    set Label_Connection.BackgroundColor to ì´ˆë¡ìƒ‰
  else
    set Label_Connection.BackgroundColor to ë¹¨ê°„ìƒ‰
```

### 2. ì „ì†¡ ëª…ë ¹ ë¡œê·¸
```
ì „ì—­ ë³€ìˆ˜:
  initialize global commandLog to ""

Procedure sendCommand (command):
  call BluetoothClient1.SendText(command)
  set global commandLog to join(
    global commandLog,
    "\n",
    command
  )
  set Label_Log.Text to global commandLog
```

### 3. ì‘ë‹µ ë°›ê¸° (ì•„ë‘ì´ë…¸ì—ì„œ ì „ì†¡ ì‹œ)
```
Clock_Receive.Timer (ë§¤ 100ms):
  if BluetoothClient1.BytesAvailableToReceive > 0
  then
    set response to BluetoothClient1.ReceiveText(-1)
    set Label_Response.Text to response
```

---

## ì£¼ì˜ì‚¬í•­

### âŒ í•˜ì§€ ë§ì•„ì•¼ í•  ê²ƒ

1. **delay í•¨ìˆ˜ ì‚¬ìš© ì‹œë„**
   ```
   // ì´ëŸ° í•¨ìˆ˜ëŠ” ì—†ìŠµë‹ˆë‹¤!
   call delay(1000)  âŒ
   call sleep(1)     âŒ
   call wait(1000)   âŒ
   ```

2. **ë¬´í•œ ë£¨í”„**
   ```
   // ì•±ì´ ë©ˆì¶¥ë‹ˆë‹¤!
   while true
     do something  âŒ
   ```

3. **ë„ˆë¬´ ë¹ ë¥¸ ëª…ë ¹ ì „ì†¡**
   ```
   // ì•„ë‘ì´ë…¸ê°€ ì²˜ë¦¬ ëª»í•¨
   Clock.TimerInterval: 100  âŒ (ë„ˆë¬´ ë¹ ë¦„)
   ```

### âœ… í•´ì•¼ í•  ê²ƒ

1. **Clock ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©**
   ```
   Clock.TimerInterval: 1000 ì´ìƒ ê¶Œì¥
   ```

2. **ì—°ê²° ìƒíƒœ í™•ì¸**
   ```
   if BluetoothClient1.IsConnected
   then
     // ëª…ë ¹ ì „ì†¡
   ```

3. **ì ì ˆí•œ ì‹œê°„ ê°„ê²©**
   ```
   - ê°ë„ ì´ë™: 1000ms (1ì´ˆ)
   - ê·¸ë¦½ ë™ì‘: 500ms
   - ë¹ ë¥¸ ë™ì‘: 300ms (ìµœì†Œ)
   ```

---

## ë¬¸ì œ í•´ê²°

### Bluetooth ì—°ê²° ì•ˆë¨
```
í•´ê²°:
1. ìŠ¤ë§ˆíŠ¸í° Bluetooth ì¼œê¸°
2. HC-05/06 ì „ì› í™•ì¸
3. í˜ì–´ë§ ì½”ë“œ: 1234 ë˜ëŠ” 0000
4. ì•± ê¶Œí•œ í™•ì¸ (ìœ„ì¹˜, Bluetooth)
```

### ëª…ë ¹ì´ ì „ì†¡ ì•ˆë¨
```
í•´ê²°:
1. ì—°ê²° ìƒíƒœ í™•ì¸
2. ëª…ë ¹ í˜•ì‹ í™•ì¸ (ì–¸ë”ìŠ¤ì½”ì–´ _ í•„ìˆ˜)
3. ì•„ë‘ì´ë…¸ Serial Monitorë¡œ í™•ì¸
```

### ì‹œí€€ìŠ¤ê°€ ì‘ë™ ì•ˆí•¨
```
í•´ê²°:
1. Clock.TimerEnabled í™•ì¸
2. step ë³€ìˆ˜ ì´ˆê¸°í™” í™•ì¸
3. ì¡°ê±´ë¬¸ ë²”ìœ„ í™•ì¸
```

---

## ì°¸ê³  ìë£Œ

### í”„ë¡œì íŠ¸ íŒŒì¼
- `Robot_Arm.aia` - ê¸°ë³¸ ë¡œë´‡ íŒ” ì œì–´
- `Robot_Arm_STT.aia` - ìŒì„± ì¸ì‹ ì œì–´
- `Robot_Arm_STT_TeachableMachine.aia` - AI ë¹„ì „ ì œì–´

### ì´ë¯¸ì§€ ì°¸ê³ 
- `ë¸”ë£¨íˆ¬ìŠ¤_ì—°ê²°.png` - Bluetooth ì—°ê²° ë¸”ë¡
- `ë¸”ë£¨íˆ¬ìŠ¤_ë™ì‘(ON_OFF).png` - ë™ì‘ ì œì–´ ë¸”ë¡
- `ì„¼ì„œ_ì…ë ¥.png` - ì„¼ì„œ ì…ë ¥ ì²˜ë¦¬

### ì¶”ê°€ ê°€ì´ë“œ
- **[ì•±ì¸ë²¤í„°_ê¸°ë³¸ê¸°ëŠ¥_ê°€ì´ë“œ.md](./ì•±ì¸ë²¤í„°_ê¸°ë³¸ê¸°ëŠ¥_ê°€ì´ë“œ.md)** â­
  - ê¸°ë³¸ UI ì‚¬ìš©ë²• (ë²„íŠ¼, ë ˆì´ë¸”, ìŠ¬ë¼ì´ë” ë“±)
  - Bluetooth í†µì‹  ìƒì„¸
  - TinyDB ë°ì´í„° ì €ì¥
  - ì°¨íŠ¸ ê·¸ë¦¬ê¸°
  - ë¯¸ë””ì–´ ì‚¬ìš© (ì¹´ë©”ë¼, ìŒì„±ì¸ì‹ ë“±)
  - HTTP í†µì‹  (GET, POST)

- **[Clock_ì‹œê°„ì§€ì—°_ê°€ì´ë“œ.md](./Clock_ì‹œê°„ì§€ì—°_ê°€ì´ë“œ.md)**
  - delay ëŒ€ì‹  Clock ì‚¬ìš©ë²•
  - ì‹œí€€ìŠ¤ ì œì–´ íŒ¨í„´
  - ê³ ê¸‰ ê¸°ë²•

- **[ë¹ ë¥¸ì‹œì‘_ê°€ì´ë“œ.md](./ë¹ ë¥¸ì‹œì‘_ê°€ì´ë“œ.md)**
  - 5ë¶„ ì•ˆì— ì‹œì‘í•˜ê¸°
  - ë¬¼ê±´ ì§‘ê¸° ì˜ˆì œ

### ì˜¨ë¼ì¸ ë¦¬ì†ŒìŠ¤
- MIT App Inventor: https://appinventor.mit.edu/
- í•œê¸€ íŠœí† ë¦¬ì–¼: https://appinventor.mit.edu/explore/kr
- ì»¤ë®¤ë‹ˆí‹°: https://community.appinventor.mit.edu/

---

## ìš”ì•½

### ì „ì²´ í•™ìŠµ êµ¬ì¡°

```mermaid
graph TB
    Start[ì‹œì‘] --> A[ê¸°ë³¸ ê°œë…]
    A --> B[Bluetooth ì—°ê²°]
    B --> C[ë¡œë´‡ íŒ” ì œì–´]
    C --> D[ì‹œí€€ìŠ¤ ì œì–´]
    D --> E[ì‹¤ì „ ì˜ˆì œ]
    
    E --> E1[ë¬¼ê±´ ì§‘ê¸°]
    E --> E2[ì¢Œìš° ìŠ¤ìº”]
    E --> E3[ë°˜ë³µ ì‘ì—…]
    
    E1 --> F[ë””ë²„ê¹…]
    E2 --> F
    E3 --> F
    
    F --> G[ë¬¸ì œ í•´ê²°]
    G --> H[ì™„ì„±]
    
    style Start fill:#e1f5ff
    style D fill:#fff9c4
    style E fill:#c8e6c9
    style H fill:#4caf50,color:#fff
```

### Clockì„ ì‚¬ìš©í•œ ì‹œê°„ ì§€ì—°
```
1. Clock ì»´í¬ë„ŒíŠ¸ ì¶”ê°€
2. TimerInterval ì„¤ì • (1000 = 1ì´ˆ)
3. TimerEnabledë¡œ ì‹œì‘/ì¤‘ì§€
4. Timer ì´ë²¤íŠ¸ì—ì„œ ë‹¤ìŒ ë™ì‘ ì‹¤í–‰
```

### ì‹œí€€ìŠ¤ ì œì–´ í•µì‹¬
```
1. ì „ì—­ ë³€ìˆ˜ë¡œ ë‹¨ê³„ ê´€ë¦¬
2. Clock.Timerì—ì„œ ë‹¨ê³„ ì¦ê°€
3. Procedureë¡œ ê° ë‹¨ê³„ ì‹¤í–‰
4. ë§ˆì§€ë§‰ ë‹¨ê³„ì—ì„œ Clock ì¤‘ì§€
```

### ëª…ë ¹ ì „ì†¡ í˜•ì‹
```
ê°ë„: "90,110,150,5_"
ì €ì¥: "save_"
ì¬ìƒ: "play_"
ìë™: "auto_"
ì¤‘ì§€: "stop_"
```

**Happy Coding! ğŸ“±ğŸ¤–**

