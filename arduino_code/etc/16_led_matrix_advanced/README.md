# 8x8 LED Matrix 고급 기능 예제

## 📌 개요
8x8 LED Matrix (MAX7219)의 고급 기능을 활용하여 애니메이션, 게임, 스크롤 텍스트 등을 구현하는 예제입니다.

## 🔧 하드웨어
- **8x8 LED Matrix (MAX7219)**
- **다중 매트릭스 연결 가능** (최대 8개)

## 📍 핀 연결
```
Arduino UNO
├─ D11 → DIN (Data In, MOSI)
├─ D13 → CLK (Clock, SCK)
└─ D10 → CS (Chip Select, SS)

다중 매트릭스 연결:
Matrix1 → Matrix2 → Matrix3 ...
(DOUT)   (DIN)
```

## 🎯 기능
1. **스크롤 텍스트**: 알파벳, 숫자 스크롤
2. **애니메이션**: 하트, 스마일 애니메이션
3. **시계 표시**: 숫자 카운트
4. **비 효과**: 비 내리는 애니메이션
5. **웨이브 효과**: 사인 웨이브
6. **뱀 게임**: 간단한 자동 플레이
7. **다중 매트릭스**: 여러 개 동시 제어

## 💻 Serial 명령어
| 명령어 | 기능 |
|--------|------|
| `text:메시지` | 스크롤 텍스트 |
| `anim` | 하트 애니메이션 |
| `smile` | 스마일 애니메이션 |
| `clock` | 시계 표시 |
| `rain` | 비 내리는 효과 |
| `wave` | 웨이브 효과 |
| `snake` | 뱀 게임 |
| `clear` | 화면 지우기 |

## 📊 좌표 시스템
```
   0 1 2 3 4 5 6 7
0  ⚫ ⚫ ⚫ ⚫ ⚫ ⚫ ⚫ ⚫
1  ⚫ ⚫ ⚫ ⚫ ⚫ ⚫ ⚫ ⚫
2  ⚫ ⚫ ⚫ ⚫ ⚫ ⚫ ⚫ ⚫
3  ⚫ ⚫ ⚫ ⚫ ⚫ ⚫ ⚫ ⚫
4  ⚫ ⚫ ⚫ ⚫ ⚫ ⚫ ⚫ ⚫
5  ⚫ ⚫ ⚫ ⚫ ⚫ ⚫ ⚫ ⚫
6  ⚫ ⚫ ⚫ ⚫ ⚫ ⚫ ⚫ ⚫
7  ⚫ ⚫ ⚫ ⚫ ⚫ ⚫ ⚫ ⚫

lc.setLed(device, row, col, state);
```

## 📝 주요 함수
- `scrollText()`: 스크롤 텍스트
- `heartAnimation()`: 하트 애니메이션 (2프레임)
- `smileAnimation()`: 스마일 애니메이션 (2프레임)
- `showClock()`: 시계 표시
- `rainEffect()`: 비 내리는 효과
- `waveEffect()`: 웨이브 효과
- `snakeGame()`: 뱀 게임

## 🎨 패턴 정의
```cpp
// 8x8 비트맵
byte heart[8] = {
  0b00000000,
  0b01100110,  // ⚫⚫  ⚫⚫
  0b11111111,  // ⚫⚫⚫⚫⚫⚫⚫⚫
  0b11111111,  // ⚫⚫⚫⚫⚫⚫⚫⚫
  0b11111111,  // ⚫⚫⚫⚫⚫⚫⚫⚫
  0b01111110,  //  ⚫⚫⚫⚫⚫⚫
  0b00111100,  //   ⚫⚫⚫⚫
  0b00011000   //    ⚫⚫
};
```

## 📚 필수 라이브러리
```
LedControl
```

## 🔧 다중 매트릭스 연결
```cpp
#define NUM_DEVICES 4  // 4개 연결

LedControl lc = LedControl(DIN, CLK, CS, NUM_DEVICES);

// 각 매트릭스 제어
for (int device = 0; device < NUM_DEVICES; device++) {
  lc.setRow(device, row, pattern);
}
```

## 🔍 응용 분야
- 간단한 게임 (뱀, 테트리스)
- 스크롤 메시지 보드
- 애니메이션 효과
- 아이콘 표시
- 상태 표시

## 💡 애니메이션 기법

### 1. 프레임 애니메이션
```cpp
// 2개 이상의 프레임 교차 표시
frame1 → frame2 → frame1 → frame2 ...
```

### 2. 스크롤
```cpp
// 비트 시프트로 좌우 스크롤
pattern << 1  // 왼쪽 스크롤
pattern >> 1  // 오른쪽 스크롤
```

### 3. 파티클 효과
```cpp
// 랜덤 픽셀 생성 및 이동
비, 눈, 불꽃 효과
```

## 🎮 게임 구현

### 뱀 게임
- 8x8 제한된 공간
- 간단한 방향 제어
- 자동 플레이 가능

### 테트리스 (확장 가능)
- 블록 회전
- 라인 제거
- 점수 카운트

## 📊 성능 최적화
- `setRow()` 사용: 한 번에 8개 LED 제어
- `clearDisplay()`: 전체 화면 지우기
- 밝기 조절로 전력 절약

## 💡 팁
- 다중 매트릭스로 긴 메시지 표시
- 애니메이션은 2~3 프레임으로 충분
- 밝기를 낮춰 눈의 피로 감소
- 패턴은 비트맵 생성기 활용
