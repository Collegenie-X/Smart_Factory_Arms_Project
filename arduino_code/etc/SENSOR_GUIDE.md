# 센서 종합 가이드

## 📌 개요
스마트 팩토리에서 활용 가능한 다양한 센서들의 종합 가이드입니다.

---

## 📁 센서 분류

### 1. 거리/위치 센서
- **07. 초음파 센서 (HC-SR04)**: 2~400cm 거리 측정
- **04. 적외선 센서**: 10~80cm 물체 감지
- **12. PIR 센서**: 3~7m 인체 감지

### 2. 환경 센서
- **04. 조도 센서**: 밝기 측정
- **09. 온습도 센서 (DHT11/DHT22)**: 온도, 습도 측정
- **10. 가스 센서 (MQ-2)**: 가스/연기 감지

### 3. 물리적 센서
- **08. 압력 센서 (FSR)**: 압력/힘 측정
- **11. 진동 센서**: 진동/충격 감지
- **11. 기울기 센서**: 각도 변화 감지

### 4. 음향 센서
- **11. 사운드 센서**: 소음 레벨 측정

---

## 🎯 센서별 특성 비교

### 거리 측정 센서 비교

| 센서 | 측정 방식 | 범위 | 정확도 | 용도 |
|------|----------|------|--------|------|
| 초음파 (HC-SR04) | 음파 반사 | 2~400cm | ±3mm | 정밀 거리 측정 |
| 적외선 | 빛 반사 | 10~80cm | ±1cm | 근거리 물체 감지 |
| PIR | 적외선 변화 | 3~7m | 감지/미감지 | 인체 동작 감지 |

### 환경 센서 비교

| 센서 | 측정 항목 | 정확도 | 응답 시간 | 용도 |
|------|----------|--------|----------|------|
| DHT11 | 온도, 습도 | ±2°C, ±5% | 2초 | 일반 환경 모니터링 |
| DHT22 | 온도, 습도 | ±0.5°C, ±2% | 2초 | 정밀 환경 모니터링 |
| MQ-2 | 가스 농도 | PPM 단위 | 1초 | 가스 누출 감지 |
| 조도 센서 | 밝기 | - | 즉시 | 자동 조명 제어 |

---

## 📊 센서 선택 가이드

### 1. 물체 감지/거리 측정
```
용도에 따른 선택:

근거리 물체 감지 (< 50cm)
  └─ 적외선 센서 (빠른 응답, 저렴)

정밀 거리 측정 (2~400cm)
  └─ 초음파 센서 (정확, 중간 가격)

장거리 인체 감지 (3~7m)
  └─ PIR 센서 (저전력, 자동 조명용)
```

### 2. 환경 모니터링
```
일반 환경 측정
  └─ DHT11 (저렴, 충분한 정확도)

정밀 환경 측정
  └─ DHT22 (고가, 높은 정확도)

가스/화재 감지
  └─ MQ-2 (안전 시스템용)

자동 조명
  └─ 조도 센서 (간단, 저렴)
```

### 3. 물리적 감지
```
압력/무게 측정
  └─ FSR (터치 감지, 그립 센서)

진동/충격 감지
  └─ 진동 센서 (도난 방지, 지진 감지)

기울기 감지
  └─ 기울기 센서 (전도 방지)

소음 측정
  └─ 사운드 센서 (소음 모니터링)
```

---

## 🔧 센서별 주의사항

### 초음파 센서 (HC-SR04)
- ✅ 정확한 거리 측정
- ⚠️ 흡음재에는 반응 약함
- ⚠️ 각도에 민감 (정면 측정 필요)
- 💡 부드러운 표면 측정 시 오차 증가

### PIR 센서
- ✅ 인체 감지에 최적화
- ⚠️ 30초 안정화 시간 필요
- ⚠️ 햇빛, 에어컨 바람 영향
- 💡 유리/벽은 감지 불가

### DHT 센서
- ✅ 간단한 디지털 인터페이스
- ⚠️ 2초 측정 간격 필요
- ⚠️ 습도 높은 곳에서 오차 증가
- 💡 캡슐화된 제품 추천

### MQ-2 가스 센서
- ✅ 다양한 가스 감지
- ⚠️ 60초 예열 시간 필수
- ⚠️ 정기적 캘리브레이션 필요
- 💡 실제 안전 장비 대용 불가

### FSR 압력 센서
- ✅ 간단한 아날로그 입력
- ⚠️ 비선형 특성
- ⚠️ 정밀 측정 어려움
- 💡 상대적 압력 비교에 적합

---

## 💻 센서 인터페이스 비교

### 아날로그 입력 (A0~A5)
```cpp
// 0~1023 값 읽기
int value = analogRead(A0);
```

**센서**: 조도, 적외선, 사운드, 압력, MQ-2

### 디지털 입력 (D0~D13)
```cpp
// HIGH/LOW 읽기
int state = digitalRead(2);
```

**센서**: 진동, 기울기, PIR

### 디지털 통신 (I2C, SPI)
```cpp
// DHT 라이브러리 사용
float temp = dht.readTemperature();
```

**센서**: DHT11/DHT22

### 펄스 폭 측정
```cpp
// 초음파 센서
long duration = pulseIn(ECHO_PIN, HIGH);
```

**센서**: 초음파 (HC-SR04)

---

## 🎓 센서 조합 활용 예시

### 1. 스마트 조명 시스템
```
조도 센서 + PIR 센서
  ↓
어두울 때만 + 사람 감지 시
  ↓
자동 LED 켜짐
```

### 2. 환경 모니터링 시스템
```
DHT 센서 + MQ-2 센서
  ↓
온습도 + 가스 농도 측정
  ↓
LCD 표시 + 위험 시 경보
```

### 3. 주차 보조 시스템
```
초음파 센서 + LED + 부저
  ↓
거리 측정 → 근접 경고
  ↓
후진 주차 안전 확보
```

### 4. 보안 시스템
```
PIR + 진동 + 사운드 센서
  ↓
침입 감지 → 즉시 경보
  ↓
다중 센서 융합으로 오감지 방지
```

### 5. 로봇 장애물 회피
```
초음파 센서 (전방) + 적외선 센서 (측면)
  ↓
거리 측정 → 회피 경로 계산
  ↓
자율 주행
```

---

## 📝 센서 선택 체크리스트

### 프로젝트 요구사항 확인
- [ ] 측정 대상이 무엇인가?
- [ ] 측정 범위는 얼마나 필요한가?
- [ ] 정확도 요구사항은?
- [ ] 응답 속도는 얼마나 빨라야 하는가?
- [ ] 실내/실외 사용?
- [ ] 전력 소모 제약이 있는가?
- [ ] 예산 제약은?

### 센서 호환성 확인
- [ ] 아두이노 핀 수 충분한가?
- [ ] 전원 전압 호환되는가? (3.3V/5V)
- [ ] 필요한 라이브러리 있는가?
- [ ] 여러 센서 동시 사용 가능한가?

### 실전 배치 고려사항
- [ ] 센서 배치 위치 결정
- [ ] 배선 길이 고려
- [ ] 간섭 요소 확인 (햇빛, 바람 등)
- [ ] 캘리브레이션 방법
- [ ] 유지보수 계획

---

## 🔍 문제 해결 가이드

### 센서 값이 이상할 때
1. **전원 확인**: 5V, GND 연결 확인
2. **핀 연결**: 정확한 핀 번호 확인
3. **임계값 조정**: 환경에 맞게 재설정
4. **캘리브레이션**: 기준값 재측정

### 센서 반응이 없을 때
1. **라이브러리 확인**: 필요한 라이브러리 설치
2. **Serial 출력**: 디버깅 메시지 확인
3. **예열 시간**: MQ-2, PIR 등 대기
4. **배선 점검**: 단선, 접촉 불량 확인

### 노이즈가 심할 때
1. **평균값 사용**: 여러 번 측정 후 평균
2. **필터링**: 이동 평균 필터 적용
3. **배선 개선**: 센서선 분리, 짧게
4. **전원 안정화**: 커패시터 추가

---

## 💡 고급 기법

### 1. 칼만 필터 (Kalman Filter)
센서 노이즈 제거 및 예측

### 2. 센서 퓨전 (Sensor Fusion)
여러 센서 데이터 통합

### 3. 이동 평균 필터 (Moving Average)
간단한 노이즈 제거

### 4. 임계값 히스테리시스 (Hysteresis)
떨림 방지 (On/Off 임계값 분리)

---

## 📚 추가 학습 자료

### 센서 이론
- 아날로그 vs 디지털
- ADC (Analog-to-Digital Converter)
- 센서 특성 곡선
- 캘리브레이션 방법

### 신호 처리
- 노이즈 필터링
- 데이터 평활화
- 이상값 제거

### 실전 프로젝트
- 각 센서 폴더의 README 참고
- 예제 코드 실행 및 수정
- 센서 조합으로 프로젝트 제작

---

**Happy Sensing! 🌟**
