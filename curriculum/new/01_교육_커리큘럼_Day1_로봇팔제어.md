# ğŸ“… Day 1: ë¡œë´‡íŒ” í”¼ì§€ì»¬ ì»´í“¨íŒ… (8ì‹œê°„)

> **"ì†ìœ¼ë¡œ ë§Œì§€ê³ , ì½”ë“œë¡œ ì œì–´í•˜ê³ , ìŒì„±ìœ¼ë¡œ ëª…ë ¹í•œë‹¤"**  
> 4ì¶• ë¡œë´‡íŒ”ì„ 6ë‹¨ê³„ë¡œ ì •ë³µí•˜ê³  ìŒì„± ì œì–´ê¹Œì§€ ì™„ì„±í•˜ëŠ” í”¼ì§€ì»¬ AI ì—¬ì •

---

## ğŸ¯ Day 1 í•™ìŠµ ëª©í‘œ

### ìµœì¢… ëª©í‘œ

```mermaid
graph LR
    HW[í•˜ë“œì›¨ì–´<br/>ì¡°ë¦½] --> TEST[ë‹¨ê³„ë³„<br/>í…ŒìŠ¤íŠ¸]
    TEST --> AUTO[ìë™í™”<br/>EEPROM]
    AUTO --> BT[ë¬´ì„ ì œì–´<br/>Bluetooth]
    BT --> VOICE[ìŒì„±ì œì–´<br/>STT/TTS]
    
    style HW fill:#FFE3E3,color:#111
    style AUTO fill:#FFD93D,color:#111
    style BT fill:#51CF66,color:#fff
    style VOICE fill:#74C0FC,color:#111
```

### í•™ìŠµ ì„±ê³¼

- âœ… **í”¼ì§€ì»¬ ì»´í“¨íŒ…**: 4ì¶• ë¡œë´‡íŒ” í•˜ë“œì›¨ì–´ ì™„ì „ ì´í•´
- âœ… **ë‹¨ê³„ë³„ í•™ìŠµ**: 01~06ë‹¨ê³„ ìˆœì°¨ í•™ìŠµ (~1,340ì¤„)
- âœ… **í•µì‹¬ ì•Œê³ ë¦¬ì¦˜**: EEPROM ì €ì¥/ë³µêµ¬, Bluetooth ë²„í¼ë§
- âœ… **ìŒì„± ì¸í„°í˜ì´ìŠ¤**: STT/TTS ì ìš©í•œ ì•±ì¸ë²¤í„° ì œì–´
- âœ… **ì›ê²© ì œì–´**: ìŠ¤ë§ˆíŠ¸í°ìœ¼ë¡œ ë¡œë´‡íŒ” ì™„ì „ ì œì–´

---

## â° Day 1 ì‹œê°„í‘œ (8ì‹œê°„)

| êµì‹œ | ì‹œê°„ | í™œë™ | í•™ìŠµ ë‚´ìš© | ì‚°ì¶œë¬¼ |
|------|------|------|----------|--------|
| **1êµì‹œ** | 1h | í•˜ë“œì›¨ì–´ ì¡°ë¦½ | ë¡œë´‡íŒ” 4ì¶• ì¡°ë¦½ + ë°°ì„  | ì‘ë™í•˜ëŠ” ë¡œë´‡íŒ” |
| **2êµì‹œ** | 1h | 01~02ë‹¨ê³„ | Servo í…ŒìŠ¤íŠ¸ + ì¡°ì´ìŠ¤í‹± | ì‹¤ì‹œê°„ ì œì–´ |
| **3êµì‹œ** | 1h | 03ë‹¨ê³„ | Serial ì›ê²© ì œì–´ | ëª…ë ¹ íŒŒì‹± |
| **4êµì‹œ** | 1.5h | 04ë‹¨ê³„ â­ | EEPROM ìë™í™” | ì €ì¥/ì¬ìƒ |
| **5êµì‹œ** | 1.5h | 05~06ë‹¨ê³„ â­â­ | Bluetooth ë¬´ì„  ì œì–´ | ì™„ì„±ëœ ë¡œë´‡íŒ” |
| **6-7êµì‹œ** | 2h | ìŒì„± ì œì–´ ì•± ğŸ¤ | STT/TTS ì•±ì¸ë²¤í„° | ìŒì„± ì œì–´ ì™„ì„± |

---

## 1êµì‹œ: ğŸ”§ í•˜ë“œì›¨ì–´ ì¡°ë¦½ê³¼ ì´í•´ (1ì‹œê°„)

### ğŸ“¦ ë¶€í’ˆ í™•ì¸

```mermaid
mindmap
  root((ë¡œë´‡íŒ”<br/>í‚¤íŠ¸))
    ì„œë³´ëª¨í„°
      SG90 Ã— 4ê°œ
      ë² ì´ìŠ¤ íšŒì „
      íŒ”1 ìƒí•˜
      íŒ”2 êµ½í˜
      ê·¸ë¦¬í¼ ì§‘ê¸°
    í”„ë ˆì„
      ì•„í¬ë¦´ êµ¬ì¡°
      ë‚˜ì‚¬/ë„ˆíŠ¸
      ì¼€ì´ë¸” íƒ€ì´
    ì œì–´ë³´ë“œ
      ì•„ë‘ì´ë…¸ UNO
      ë¸Œë ˆë“œë³´ë“œ
      ì í¼ì„ 
    ì „ì›
      5V ì™¸ë¶€ì „ì›
      ë°°í„°ë¦¬ or ì–´ëŒ‘í„°
    ì¡°ì´ìŠ¤í‹±
      ì•„ë‚ ë¡œê·¸ Ã— 2ê°œ
      VRx VRy SW
    ë¸”ë£¨íˆ¬ìŠ¤
      HC-05 or HC-06
      RX TX GND VCC
```

### ğŸ› ï¸ ì¡°ë¦½ í”„ë¡œì„¸ìŠ¤

#### Step 1: ë² ì´ìŠ¤ ì¡°ë¦½ (15ë¶„)

```mermaid
graph LR
    BASE[ë² ì´ìŠ¤<br/>í”Œë ˆì´íŠ¸] --> SERVO1[1ì¶• ì„œë³´<br/>ê³ ì •]
    SERVO1 --> ARM1[ì²«ë²ˆì§¸<br/>íŒ” ì—°ê²°]
    
    style BASE fill:#FFE3E3,color:#111
    style SERVO1 fill:#FFD93D,color:#111
```

**ì²´í¬ í¬ì¸íŠ¸**:
- [ ] ë² ì´ìŠ¤ ì„œë³´ê°€ ìˆ˜í‰ìœ¼ë¡œ ê³ ì •ë˜ì—ˆë‚˜?
- [ ] ë‚˜ì‚¬ê°€ ë‹¨ë‹¨íˆ ì¡°ì—¬ì¡Œë‚˜?
- [ ] ì„œë³´ í˜¼(Horn)ì´ ì¤‘ì•™(90ë„)ì¸ê°€?

#### Step 2: íŒ” ì¡°ë¦½ (20ë¶„)

```mermaid
graph LR
    ARM1[1ë²ˆ íŒ”<br/>ì–´ê¹¨] --> SERVO2[2ì¶• ì„œë³´<br/>ì¥ì°©]
    SERVO2 --> ARM2[2ë²ˆ íŒ”<br/>íŒ”ê¿ˆì¹˜]
    ARM2 --> SERVO3[3ì¶• ì„œë³´<br/>ì¥ì°©]
    SERVO3 --> GRIPPER[ê·¸ë¦¬í¼<br/>ì—°ê²°]
    
    style ARM1 fill:#FFF3E0,color:#111
    style ARM2 fill:#FFD93D,color:#111
```

**ì£¼ì˜ì‚¬í•­**:
- ì„œë³´ ì¼€ì´ë¸”ì´ ê¼¬ì´ì§€ ì•Šë„ë¡
- ê° ê´€ì ˆì´ ììœ ë¡­ê²Œ ì›€ì§ì´ëŠ”ì§€ í™•ì¸
- ì¼€ì´ë¸”ì„ ì¼€ì´ë¸” íƒ€ì´ë¡œ ì •ë¦¬

#### Step 3: ë°°ì„  (15ë¶„)

```mermaid
graph TD
    ARD[ì•„ë‘ì´ë…¸<br/>UNO] --> PWR[ì „ì›<br/>5V GND]
    ARD --> S1[D6: ë² ì´ìŠ¤]
    ARD --> S2[D9: ì–´ê¹¨]
    ARD --> S3[D10: íŒ”ê¿ˆì¹˜]
    ARD --> S4[D11: ê·¸ë¦¬í¼]
    
    ARD --> JOY1[A0-A1:<br/>ì¡°ì´ìŠ¤í‹±1]
    ARD --> JOY2[A2-A3:<br/>ì¡°ì´ìŠ¤í‹±2]
    
    ARD --> BT[RX-TX:<br/>ë¸”ë£¨íˆ¬ìŠ¤]
    
    style ARD fill:#FF6B6B,color:#fff
    style PWR fill:#FFD93D,color:#111
```

**ë°°ì„  ì²´í¬ë¦¬ìŠ¤íŠ¸**:

| ë¶€í’ˆ | ì•„ë‘ì´ë…¸ í•€ | ì‹ í˜¸ì„  ìƒ‰ | í™•ì¸ |
|------|------------|----------|------|
| ë² ì´ìŠ¤ ì„œë³´ (1ì¶•) | D6 | ì£¼í™© | â–¡ |
| ì–´ê¹¨ ì„œë³´ (2ì¶•) | D9 | ë…¸ë‘ | â–¡ |
| íŒ”ê¿ˆì¹˜ ì„œë³´ (3ì¶•) | D10 | ì´ˆë¡ | â–¡ |
| ê·¸ë¦¬í¼ ì„œë³´ (4ì¶•) | D11 | íŒŒë‘ | â–¡ |
| ì¡°ì´ìŠ¤í‹±1 X | A0 | ë³´ë¼ | â–¡ |
| ì¡°ì´ìŠ¤í‹±1 Y | A1 | íšŒìƒ‰ | â–¡ |
| ì¡°ì´ìŠ¤í‹±2 X | A2 | í°ìƒ‰ | â–¡ |
| ì¡°ì´ìŠ¤í‹±2 Y | A3 | ê²€ì • | â–¡ |
| ë¸”ë£¨íˆ¬ìŠ¤ RX | TX (D1) | ë¹¨ê°• | â–¡ |
| ë¸”ë£¨íˆ¬ìŠ¤ TX | RX (D0) | ê°ˆìƒ‰ | â–¡ |

#### Step 4: ì „ì› ì—°ê²° (10ë¶„)

```mermaid
graph LR
    PWR[5V 2A<br/>ì–´ëŒ‘í„°] --> ARD[ì•„ë‘ì´ë…¸<br/>VIN]
    ARD --> SERVO[ì„œë³´ëª¨í„°<br/>4ê°œ]
    
    style PWR fill:#FF6B6B,color:#fff
    style SERVO fill:#51CF66,color:#fff
```

**ì „ì› ì£¼ì˜ì‚¬í•­**:
- âš ï¸ ì„œë³´ 4ê°œë¥¼ ë™ì‹œì— êµ¬ë™í•˜ë ¤ë©´ **ìµœì†Œ 2A ì „ì›** í•„ìš”
- âš ï¸ USB ì „ì›ë§Œìœ¼ë¡œëŠ” ë¶€ì¡± â†’ ì„œë³´ê°€ ë–¨ë¦¼
- âš ï¸ ê·¹ì„± í™•ì¸ (ë¹¨ê°• +, ê²€ì • -)

---

## 2êµì‹œ: ğŸ“ 01~02ë‹¨ê³„ - ê¸°ë³¸ ì œì–´ (1ì‹œê°„)

### 01ë‹¨ê³„: ì„œë³´ ëª¨í„° í…ŒìŠ¤íŠ¸ (20ë¶„)

**í•™ìŠµ ëª©í‘œ**: 4ê°œ ì„œë³´ ëª¨í„°ê°€ ëª¨ë‘ ì •ìƒ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸

#### ì•Œê³ ë¦¬ì¦˜ í”Œë¡œìš°ì°¨íŠ¸

```mermaid
graph LR
    START[ì‹œì‘] --> INIT[ì„œë³´ ì´ˆê¸°í™”<br/>attach 4ê°œ]
    INIT --> HOME[í™ˆ í¬ì§€ì…˜<br/>90,90,90,5]
    HOME --> TEST1[1ì¶• í…ŒìŠ¤íŠ¸<br/>0â†’180]
    TEST1 --> WAIT1[1ì´ˆ ëŒ€ê¸°]
    WAIT1 --> TEST2[2ì¶• í…ŒìŠ¤íŠ¸]
    TEST2 --> WAIT2[1ì´ˆ ëŒ€ê¸°]
    WAIT2 --> TEST3[3ì¶• í…ŒìŠ¤íŠ¸]
    TEST3 --> WAIT3[1ì´ˆ ëŒ€ê¸°]
    WAIT3 --> TEST4[4ì¶• í…ŒìŠ¤íŠ¸]
    TEST4 --> HOME
    
    style START fill:#99E9F2,color:#111
    style HOME fill:#51CF66,color:#fff
```

#### í•µì‹¬ ì½”ë“œ (01_servo_motor_test.ino)

```cpp
// ì„œë³´ ì´ˆê¸°í™”
#include <Servo.h>
Servo servo[4];
int pins[] = {6, 9, 10, 11};

void setup() {
  Serial.begin(9600);
  
  // 4ê°œ ì„œë³´ ì—°ê²°
  for(int i = 0; i < 4; i++) {
    servo[i].attach(pins[i]);
  }
  
  Serial.println("ì„œë³´ ëª¨í„° í…ŒìŠ¤íŠ¸ ì‹œì‘");
}

void loop() {
  // í™ˆ í¬ì§€ì…˜
  servo[0].write(90);  // ë² ì´ìŠ¤ ì¤‘ì•™
  servo[1].write(90);  // ì–´ê¹¨ ì¤‘ì•™
  servo[2].write(90);  // íŒ”ê¿ˆì¹˜ ì¤‘ì•™
  servo[3].write(5);   // ê·¸ë¦¬í¼ ì—´ë¦¼
  
  delay(2000);
  
  // ê° ì¶• í…ŒìŠ¤íŠ¸
  testServo(0, "ë² ì´ìŠ¤");
  testServo(1, "ì–´ê¹¨");
  testServo(2, "íŒ”ê¿ˆì¹˜");
  testServo(3, "ê·¸ë¦¬í¼");
}

void testServo(int index, String name) {
  Serial.println(name + " í…ŒìŠ¤íŠ¸ ì¤‘...");
  
  // ìµœì†Œ â†’ ìµœëŒ€
  for(int angle = 0; angle <= 180; angle += 5) {
    servo[index].write(angle);
    delay(50);
  }
  
  // ìµœëŒ€ â†’ ìµœì†Œ
  for(int angle = 180; angle >= 0; angle -= 5) {
    servo[index].write(angle);
    delay(50);
  }
  
  Serial.println(name + " ì™„ë£Œ");
}
```

**ì‹¤ìŠµ í™œë™**:
- [ ] ì½”ë“œ ì—…ë¡œë“œ
- [ ] Serial Monitor ì—´ê¸° (9600 baud)
- [ ] 4ê°œ ì„œë³´ê°€ ëª¨ë‘ ì›€ì§ì´ëŠ”ì§€ í™•ì¸
- [ ] ì´ìƒí•œ ì†Œë¦¬ê°€ ë‚˜ëŠ”ì§€ ì²´í¬

### 02ë‹¨ê³„: ì¡°ì´ìŠ¤í‹± ì œì–´ (40ë¶„)

**í•™ìŠµ ëª©í‘œ**: ì¡°ì´ìŠ¤í‹±ìœ¼ë¡œ ë¡œë´‡íŒ”ì„ ì‹¤ì‹œê°„ ì œì–´

#### ì•Œê³ ë¦¬ì¦˜ í”Œë¡œìš°ì°¨íŠ¸

```mermaid
graph LR
    START[ì‹œì‘] --> READ[ì¡°ì´ìŠ¤í‹±<br/>ì•„ë‚ ë¡œê·¸ ì½ê¸°]
    READ --> MAP[0-1023ì„<br/>0-180ìœ¼ë¡œ ë³€í™˜]
    MAP --> SMOOTH[ì´ë™í‰ê· <br/>í•„í„° ì ìš©]
    SMOOTH --> WRITE[ì„œë³´ì—<br/>ê°ë„ ì „ì†¡]
    WRITE --> DELAY[20ms ëŒ€ê¸°]
    DELAY --> READ
    
    style READ fill:#99E9F2,color:#111
    style MAP fill:#FFD93D,color:#111
    style SMOOTH fill:#FFA94D,color:#111
```

#### í•µì‹¬ ì•Œê³ ë¦¬ì¦˜: ë§¤í•‘ í•¨ìˆ˜

```cpp
// ì¡°ì´ìŠ¤í‹± ê°’ì„ ì„œë³´ ê°ë„ë¡œ ë³€í™˜
int joyX1 = analogRead(A0);  // 0~1023
int angle0 = map(joyX1, 0, 1023, 0, 180);  // 0~180ë„

// ì´ë™ í‰ê·  í•„í„° (ë–¨ë¦¼ ë°©ì§€)
const int FILTER_SIZE = 5;
int angleBuffer[4][FILTER_SIZE];
int bufferIndex = 0;

int smoothAngle(int servoIndex, int rawAngle) {
  angleBuffer[servoIndex][bufferIndex] = rawAngle;
  
  int sum = 0;
  for(int i = 0; i < FILTER_SIZE; i++) {
    sum += angleBuffer[servoIndex][i];
  }
  
  return sum / FILTER_SIZE;
}
```

**ì‹¤ìŠµ í™œë™**:
- [ ] ì¡°ì´ìŠ¤í‹±1ë¡œ ë² ì´ìŠ¤ì™€ ì–´ê¹¨ ì œì–´
- [ ] ì¡°ì´ìŠ¤í‹±2ë¡œ íŒ”ê¿ˆì¹˜ì™€ ê·¸ë¦¬í¼ ì œì–´
- [ ] ë¬¼ì²´ë¥¼ ì§‘ì–´ì„œ ì˜®ê²¨ë³´ê¸°
- [ ] ë¶€ë“œëŸ½ê²Œ ì›€ì§ì´ëŠ”ì§€ í™•ì¸

---

## 3êµì‹œ: ğŸ“¡ 03ë‹¨ê³„ - Serial ì›ê²© ì œì–´ (1ì‹œê°„)

**í•™ìŠµ ëª©í‘œ**: Serial ëª…ë ¹ìœ¼ë¡œ ë¡œë´‡íŒ”ì„ ì›ê²© ì œì–´

### Serial í”„ë¡œí† ì½œ ì„¤ê³„

```mermaid
graph LR
    CMD[ëª…ë ¹ ì „ì†¡] --> PARSE[íŒŒì‹±]
    PARSE --> EXEC[ì‹¤í–‰]
    EXEC --> RESP[ì‘ë‹µ]
    
    style CMD fill:#99E9F2,color:#111
    style PARSE fill:#FFD93D,color:#111
    style EXEC fill:#51CF66,color:#fff
```

### ëª…ë ¹ì–´ í…Œì´ë¸”

| ëª…ë ¹ì–´ | í˜•ì‹ | ê¸°ëŠ¥ | ì˜ˆì‹œ | ì‘ë‹µ |
|--------|------|------|------|------|
| `arm0_` | `arm0_90_` | ë² ì´ìŠ¤ 90ë„ ì´ë™ | `arm0_90_` | `OK:ARM0_90` |
| `arm1_` | `arm1_120_` | ì–´ê¹¨ 120ë„ ì´ë™ | `arm1_120_` | `OK:ARM1_120` |
| `arm2_` | `arm2_60_` | íŒ”ê¿ˆì¹˜ 60ë„ ì´ë™ | `arm2_60_` | `OK:ARM2_60` |
| `arm3_` | `arm3_50_` | ê·¸ë¦¬í¼ 50ë„ (ë‹«ê¸°) | `arm3_50_` | `OK:ARM3_50` |
| `home_` | `home_` | í™ˆ í¬ì§€ì…˜ | `home_` | `OK:HOME` |
| `pos_` | `pos_90,90,90,5_` | ì „ì²´ í¬ì§€ì…˜ | `pos_90,90,90,5_` | `OK:POS` |

### ëª…ë ¹ íŒŒì‹± ì•Œê³ ë¦¬ì¦˜

```mermaid
graph TD
    START[ëª…ë ¹ ìˆ˜ì‹ ] --> CHECK{ì‹œì‘ì´<br/>arm?}
    CHECK -->|Yes| INDEX[ì¸ë±ìŠ¤<br/>ì¶”ì¶œ]
    CHECK -->|No| OTHER[ë‹¤ë¥¸ ëª…ë ¹<br/>ì²´í¬]
    
    INDEX --> ANGLE[ê°ë„ê°’<br/>ì¶”ì¶œ]
    ANGLE --> VALID{ìœ íš¨í•œ<br/>ë²”ìœ„?}
    VALID -->|Yes| MOVE[ì„œë³´<br/>ì´ë™]
    VALID -->|No| ERROR[ì—ëŸ¬<br/>ì‘ë‹µ]
    
    MOVE --> OK[OK<br/>ì‘ë‹µ]
    
    style START fill:#99E9F2,color:#111
    style MOVE fill:#51CF66,color:#fff
```

### í•µì‹¬ ì½”ë“œ (íŒŒì‹± í•¨ìˆ˜)

```cpp
void processCommand(String cmd) {
  cmd.trim();  // ê³µë°± ì œê±°
  
  if(cmd.startsWith("arm")) {
    // arm0_90_ í˜•ì‹ íŒŒì‹±
    int index = cmd.charAt(3) - '0';  // '0' â†’ 0
    int underscorePos = cmd.indexOf('_', 4);
    String angleStr = cmd.substring(4, underscorePos);
    int angle = angleStr.toInt();
    
    // ìœ íš¨ì„± ê²€ì‚¬
    if(index >= 0 && index < 4 && angle >= 0 && angle <= 180) {
      servo[index].write(angle);
      Serial.println("OK:ARM" + String(index) + "_" + String(angle));
    } else {
      Serial.println("ERR:INVALID_RANGE");
    }
    
  } else if(cmd == "home_") {
    // í™ˆ í¬ì§€ì…˜
    servo[0].write(90);
    servo[1].write(90);
    servo[2].write(90);
    servo[3].write(5);
    Serial.println("OK:HOME");
    
  } else if(cmd.startsWith("pos_")) {
    // pos_90,90,90,5_ í˜•ì‹
    parsePosition(cmd);
  }
}
```

**ì‹¤ìŠµ í™œë™**:
- [ ] Serial Monitorì—ì„œ ëª…ë ¹ í…ŒìŠ¤íŠ¸
- [ ] `arm0_45_` â†’ ë² ì´ìŠ¤ 45ë„
- [ ] `arm1_120_` â†’ ì–´ê¹¨ 120ë„
- [ ] `home_` â†’ í™ˆ í¬ì§€ì…˜
- [ ] `pos_90,120,60,50_` â†’ ì „ì²´ ì´ë™

---

## 4êµì‹œ: ğŸ’¾ 04ë‹¨ê³„ - EEPROM ìë™í™” â­ (1.5ì‹œê°„)

**í•™ìŠµ ëª©í‘œ**: í•µì‹¬! ìœ„ì¹˜ë¥¼ ì €ì¥í•˜ê³  ìë™ ì¬ìƒí•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ ë§ˆìŠ¤í„°

### EEPROM ì €ì¥ êµ¬ì¡°

```mermaid
graph TD
    EEPROM[EEPROM<br/>1024 bytes] --> HEADER[ì£¼ì†Œ 0: ê°œìˆ˜<br/>savedCount]
    EEPROM --> STEP1[ì£¼ì†Œ 4-7: Step 1<br/>4ê°œ ê°ë„]
    EEPROM --> STEP2[ì£¼ì†Œ 8-11: Step 2<br/>4ê°œ ê°ë„]
    EEPROM --> STEPN[...<br/>ìµœëŒ€ 12ë‹¨ê³„]
    
    HEADER -.ì˜ˆì‹œ.-> H1[EEPROM.read0 = 3<br/>ì €ì¥ëœ ìœ„ì¹˜ 3ê°œ]
    STEP1 -.ì˜ˆì‹œ.-> S1[ì£¼ì†Œ 4: 90Â°<br/>ì£¼ì†Œ 5: 80Â°<br/>ì£¼ì†Œ 6: 90Â°<br/>ì£¼ì†Œ 7: 30Â°]
    
    style EEPROM fill:#FFE3E3,color:#111
    style HEADER fill:#FFD93D,color:#111
```

### ë©”ëª¨ë¦¬ ë§µ

| ì£¼ì†Œ | ë‚´ìš© | í¬ê¸° | ì„¤ëª… | ì˜ˆì‹œ |
|------|------|------|------|------|
| 0 | savedCount | 1 byte | ì €ì¥ëœ ìœ„ì¹˜ ê°œìˆ˜ (0~12) | 3 |
| 1-3 | ì˜ˆì•½ | 3 bytes | ë¯¸ì‚¬ìš© | - |
| 4-7 | Position #1 | 4 bytes | [base, shoulder, elbow, grip] | [90, 80, 90, 30] |
| 8-11 | Position #2 | 4 bytes | [base, shoulder, elbow, grip] | [45, 100, 80, 50] |
| ... | ... | ... | ... | ... |
| 48-51 | Position #12 | 4 bytes | ìµœëŒ€ 12ë²ˆì§¸ ìœ„ì¹˜ | [130, 70, 100, 15] |

### í•µì‹¬ ì•Œê³ ë¦¬ì¦˜ 1: save (ì €ì¥)

```mermaid
graph TD
    START[save ëª…ë ¹ ìˆ˜ì‹ ] --> READ_COUNT[EEPROM ì£¼ì†Œ 0<br/>ì½ê¸° â†’ savedCount]
    READ_COUNT --> CHECK{savedCount<br/><12?}
    
    CHECK -->|No| FULL[ERR: MEMORY_FULL<br/>ìµœëŒ€ 12ê°œ ì €ì¥ ê°€ëŠ¥]
    CHECK -->|Yes| CALC_ADDR[ì €ì¥ ì£¼ì†Œ ê³„ì‚°<br/>addr=4+savedCountÃ—4]
    
    CALC_ADDR --> DETACH[servo.detach<br/>íƒ€ì´ë¨¸ ì¶©ëŒ ë°©ì§€]
    DETACH --> WRITE_LOOP[EEPROM.write<br/>4ê°œ ê°ë„ ì €ì¥]
    
    WRITE_LOOP --> WRITE_COUNT[EEPROM.write0<br/>savedCount+1]
    WRITE_COUNT --> ATTACH[servo.attach<br/>ì¬ì—°ê²°]
    
    ATTACH --> PRINT[OK: SAVE_#n<br/>ì €ì¥ ì™„ë£Œ ì¶œë ¥]
    
    FULL --> END[ì¢…ë£Œ]
    PRINT --> END
    
    style START fill:#99E9F2,color:#111
    style DETACH fill:#FFD93D,color:#111
    style WRITE_LOOP fill:#FFA94D,color:#111
    style PRINT fill:#51CF66,color:#fff
```

**ì„¸ë¶€ ë‹¨ê³„ (ì˜ì‚¬ì½”ë“œ)**:
```
1. savedCount = EEPROM.read(0)
2. if savedCount >= 12 then
     print "ERR:MEMORY_FULL"
     return
3. addr = 4 + (savedCount Ã— 4)
4. for i = 0 to 3 do
     angle = servo[i].read()
     EEPROM.write(addr + i, angle)
5. EEPROM.write(0, savedCount + 1)
6. print "OK:SAVE_" + (savedCount + 1)
```

```cpp
void savePosition() {
  int stepCount = EEPROM.read(0);
  
  if(stepCount >= 12) {
    Serial.println("ERR:MEMORY_FULL");
    return;
  }
  
  // í˜„ì¬ ê°ë„ë¥¼ EEPROMì— ì €ì¥
  int addr = 4 + (stepCount * 4);
  for(int i = 0; i < 4; i++) {
    int angle = servo[i].read();
    EEPROM.write(addr + i, angle);
  }
  
  // ìŠ¤í… ê°œìˆ˜ ì¦ê°€
  EEPROM.write(0, stepCount + 1);
  
  Serial.println("OK:SAVE_" + String(stepCount + 1));
}
```

### í•µì‹¬ ì•Œê³ ë¦¬ì¦˜ 2: play (ì¬ìƒ)

```mermaid
graph TD
    START[play ëª…ë ¹ ìˆ˜ì‹ ] --> READ_COUNT[EEPROM ì£¼ì†Œ 0<br/>ì½ê¸° â†’ savedCount]
    READ_COUNT --> CHECK{savedCount<br/>>0?}
    
    CHECK -->|No| NODATA[ERR: NO_DATA<br/>ì €ì¥ëœ ìœ„ì¹˜ ì—†ìŒ]
    CHECK -->|Yes| PRINT_START[PLAY_START<br/>ì¶œë ¥]
    
    PRINT_START --> INIT_LOOP[step = 0]
    INIT_LOOP --> LOOP_CHECK{step<br/><savedCount?}
    
    LOOP_CHECK -->|Yes| CALC_ADDR[ì£¼ì†Œ ê³„ì‚°<br/>addr=4+stepÃ—4]
    CALC_ADDR --> READ_ANGLES[EEPROMì—ì„œ<br/>4ê°œ ê°ë„ ì½ê¸°]
    
    READ_ANGLES --> MOVE_SERVO[ì„œë³´ ëª¨í„°<br/>4ê°œ ì´ë™]
    MOVE_SERVO --> PRINT_STEP[STEP_n ì¶œë ¥]
    PRINT_STEP --> WAIT[1000ms ëŒ€ê¸°]
    
    WAIT --> INC_STEP[step++]
    INC_STEP --> LOOP_CHECK
    
    LOOP_CHECK -->|No| DONE[PLAY_DONE<br/>ì¬ìƒ ì™„ë£Œ]
    
    NODATA --> END[ì¢…ë£Œ]
    DONE --> END
    
    style START fill:#99E9F2,color:#111
    style READ_ANGLES fill:#FFD93D,color:#111
    style MOVE_SERVO fill:#FFA94D,color:#111
    style DONE fill:#51CF66,color:#fff
```

**ì„¸ë¶€ ë‹¨ê³„ (ì˜ì‚¬ì½”ë“œ)**:
```
1. savedCount = EEPROM.read(0)
2. if savedCount == 0 then
     print "ERR:NO_DATA"
     return
3. print "PLAY_START:" + savedCount
4. for step = 0 to savedCount-1 do
     addr = 4 + (step Ã— 4)
     for i = 0 to 3 do
       angle = EEPROM.read(addr + i)
       servo[i].write(angle)
     print "STEP_" + (step + 1)
     delay(1000)
5. print "PLAY_DONE"
```

**ì‹œê°„ ë³µì¡ë„**: O(n), n = savedCount (ì €ì¥ëœ ìœ„ì¹˜ ê°œìˆ˜)

### í•µì‹¬ ì•Œê³ ë¦¬ì¦˜ 3: auto (ë¬´í•œ ë°˜ë³µ)

```mermaid
graph TD
    START[auto ëª…ë ¹ ìˆ˜ì‹ ] --> SET_FLAG[autoRepeat = true<br/>repeatCount = 0]
    SET_FLAG --> PRINT_START[AUTO_ON<br/>ì¶œë ¥]
    
    PRINT_START --> LOOP_MAIN[ë©”ì¸ ë£¨í”„]
    LOOP_MAIN --> CHECK_FLAG{autoRepeat<br/>==true?}
    
    CHECK_FLAG -->|No| WAIT_CMD[ëª…ë ¹ ëŒ€ê¸°]
    WAIT_CMD --> LOOP_MAIN
    
    CHECK_FLAG -->|Yes| CHECK_SERIAL[Serial ëª…ë ¹<br/>ì²´í¬]
    CHECK_SERIAL --> IS_STOP{stop<br/>ëª…ë ¹?}
    
    IS_STOP -->|Yes| STOP_FLAG[autoRepeat = false]
    STOP_FLAG --> PRINT_STOP[AUTO_OFF<br/>ë°˜ë³µ íšŸìˆ˜ ì¶œë ¥]
    PRINT_STOP --> LOOP_MAIN
    
    IS_STOP -->|No| INC_COUNT[repeatCount++]
    INC_COUNT --> PRINT_REPEAT[ë°˜ë³µ #n ì¶œë ¥]
    PRINT_REPEAT --> PLAY_SEQ[playSequence<br/>í˜¸ì¶œ]
    
    PLAY_SEQ --> DELAY_500[500ms ëŒ€ê¸°]
    DELAY_500 --> LOOP_MAIN
    
    style START fill:#99E9F2,color:#111
    style PLAY_SEQ fill:#FFD93D,color:#111
    style CHECK_SERIAL fill:#FFA94D,color:#111
    style PRINT_STOP fill:#FF6B6B,color:#fff
```

**ì„¸ë¶€ ë‹¨ê³„ (ì˜ì‚¬ì½”ë“œ)**:
```
1. ëª…ë ¹ ìˆ˜ì‹ : auto
2. autoRepeat = true
3. repeatCount = 0
4. print "AUTO_ON"

loop():
  5. if autoRepeat == true then
       checkSerialCommand()  // stop ëª…ë ¹ ì²´í¬
       if stopReceived then
         autoRepeat = false
         print "AUTO_OFF: ì´ " + repeatCount + "íšŒ"
         return
       
       repeatCount++
       print "ë°˜ë³µ #" + repeatCount
       playSequence()  // ì €ì¥ëœ ìœ„ì¹˜ ì¬ìƒ
       delay(500)
```

**ì‹œê°„ ë³µì¡ë„**: O(n Ã— m), n = savedCount, m = ë°˜ë³µ íšŸìˆ˜

**ì£¼ì˜ì‚¬í•­**:
- âœ… loop() ë‚´ì—ì„œ í•­ìƒ Serial ëª…ë ¹ ì²´í¬
- âœ… stop ëª…ë ¹ ì‹œ ì¦‰ì‹œ ë°˜ë³µ ì¤‘ì§€
- âœ… ë°˜ë³µ íšŸìˆ˜ ì¹´ìš´íŒ… (ë””ë²„ê¹…ìš©)


### ëª…ë ¹ì–´ í…Œì´ë¸”

| ëª…ë ¹ì–´ | ê¸°ëŠ¥ | ì˜ˆì‹œ ì‹œë‚˜ë¦¬ì˜¤ |
|--------|------|--------------|
| `save_` | í˜„ì¬ ìœ„ì¹˜ ì €ì¥ | ì¡°ì´ìŠ¤í‹±ìœ¼ë¡œ ìœ„ì¹˜ ì¡ê³  ì €ì¥ |
| `play_` | ì €ì¥ëœ ë™ì‘ ì¬ìƒ | í•œë²ˆ ì‹¤í–‰ í›„ ë©ˆì¶¤ |
| `auto_` | ë¬´í•œ ë°˜ë³µ ì¬ìƒ | ê³„ì† ë°˜ë³µ |
| `stop_` | ìë™ ì¬ìƒ ì¤‘ì§€ | ë¬´í•œ ë°˜ë³µ ë©ˆì¶¤ |
| `clear_` | ëª¨ë“  ë°ì´í„° ì‚­ì œ | ì²˜ìŒë¶€í„° ë‹¤ì‹œ |
| `list_` | ì €ì¥ëœ ìœ„ì¹˜ ëª©ë¡ | ëª‡ ê°œ ì €ì¥ëëŠ”ì§€ í™•ì¸ |

**ì‹¤ìŠµ í™œë™**:
1. [ ] ì¡°ì´ìŠ¤í‹±ìœ¼ë¡œ ì›í•˜ëŠ” ìœ„ì¹˜ë¡œ ì´ë™
2. [ ] `save_` ëª…ë ¹ìœ¼ë¡œ ì €ì¥ (ìµœëŒ€ 12ë²ˆ)
3. [ ] ë‹¤ë¥¸ ìœ„ì¹˜ë¡œ ì´ë™ í›„ `save_`
4. [ ] `play_` ëª…ë ¹ìœ¼ë¡œ ì¬ìƒ í™•ì¸
5. [ ] `auto_` ëª…ë ¹ìœ¼ë¡œ ë¬´í•œ ë°˜ë³µ
6. [ ] `stop_` ëª…ë ¹ìœ¼ë¡œ ì¤‘ì§€

---

## 5êµì‹œ: ğŸ“¡ 05~06ë‹¨ê³„ - Bluetooth ë¬´ì„  ì œì–´ â­â­ (1.5ì‹œê°„)

**í•™ìŠµ ëª©í‘œ**: ìŠ¤ë§ˆíŠ¸í°ìœ¼ë¡œ ë¬´ì„  ì œì–´ + ì•ˆì •ì„± ê°œì„ 

### Bluetooth í†µì‹  êµ¬ì¡°

```mermaid
sequenceDiagram
    participant Phone as ìŠ¤ë§ˆíŠ¸í°<br/>ì•±
    participant BT as HC-06<br/>ë¸”ë£¨íˆ¬ìŠ¤
    participant Arduino as ì•„ë‘ì´ë…¸
    participant Servo as ë¡œë´‡íŒ”
    
    Phone->>BT: save_ ëª…ë ¹
    BT->>Arduino: Serial ìˆ˜ì‹ 
    Arduino->>Arduino: ëª…ë ¹ ë²„í¼ë§
    Arduino->>Servo: í˜„ì¬ ìœ„ì¹˜ ì €ì¥
    Servo-->>Arduino: ì™„ë£Œ
    Arduino->>BT: OK:SAVE
    BT->>Phone: ì‘ë‹µ í‘œì‹œ
```

### í•µì‹¬ ì•Œê³ ë¦¬ì¦˜: ëª…ë ¹ ë²„í¼ë§

```mermaid
graph TD
    START[Bluetooth<br/>ë°ì´í„° ìˆ˜ì‹ ] --> AVAILABLE{Serial<br/>available?}
    AVAILABLE -->|No| CONTINUE[ë‹¤ë¥¸ ì‘ì—…]
    AVAILABLE -->|Yes| READ_CHAR[char c = read]
    
    READ_CHAR --> PRINT_CHAR[BT ìˆ˜ì‹ : c<br/>ASCII ì¶œë ¥]
    PRINT_CHAR --> APPEND[btBuffer += c<br/>ë²„í¼ì— ì¶”ê°€]
    
    APPEND --> CHECK_TERMINATOR{c == '_'<br/>?}
    CHECK_TERMINATOR -->|No| AVAILABLE
    
    CHECK_TERMINATOR -->|Yes| TRIM[ê³µë°± ì œê±°<br/>trim]
    TRIM --> PRINT_CMD[ëª…ë ¹ ë²„í¼:<br/>btBuffer ì¶œë ¥]
    
    PRINT_CMD --> PARSE{ëª…ë ¹ ì¸ì‹}
    PARSE -->|save| CMD_SAVE[savePosition<br/>í˜¸ì¶œ]
    PARSE -->|play| CMD_PLAY[playSequence<br/>í˜¸ì¶œ]
    PARSE -->|auto| CMD_AUTO[autoRepeat=true]
    PARSE -->|stop| CMD_STOP[autoRepeat=false]
    PARSE -->|clear| CMD_CLEAR[EEPROM ì´ˆê¸°í™”]
    PARSE -->|list| CMD_LIST[ëª©ë¡ ì¶œë ¥]
    PARSE -->|Unknown| CMD_ERR[ERR: UNKNOWN]
    
    CMD_SAVE & CMD_PLAY & CMD_AUTO & CMD_STOP & CMD_CLEAR & CMD_LIST & CMD_ERR --> CLEAR_BUF[btBuffer = ""<br/>ë²„í¼ í´ë¦¬ì–´]
    
    CLEAR_BUF --> CONTINUE
    
    style START fill:#99E9F2,color:#111
    style READ_CHAR fill:#FFD93D,color:#111
    style PARSE fill:#FFA94D,color:#111
    style CLEAR_BUF fill:#51CF66,color:#fff
```

**ì„¸ë¶€ ë‹¨ê³„ (ì˜ì‚¬ì½”ë“œ)**:
```
String btBuffer = ""  // ì „ì—­ ë²„í¼

loop():
  1. while Serial.available() > 0 do
       c = Serial.read()
       print "[BT ìˆ˜ì‹ ] '" + c + "' (ASCII: " + ASCII(c) + ")"
       
       btBuffer += c
       print "[ë²„í¼ ì¶”ê°€] í˜„ì¬: \"" + btBuffer + "\" (" + length + "ì)"
       
       if c == '_' then  // ëª…ë ¹ ì¢…ë£Œ ë¬¸ì
         btBuffer.trim()  // ê³µë°± ì œê±°
         print "[ëª…ë ¹ ì¢…ë£Œ ë¬¸ì: '_']"
         print "ëª…ë ¹ì–´ ë²„í¼: \"" + btBuffer + "\" (ê¸¸ì´: " + length + ")"
         
         // ëª…ë ¹ ì²˜ë¦¬
         if btBuffer == "save" then
           savePosition()
         else if btBuffer == "play" then
           playSequence()
         else if btBuffer == "auto" then
           autoRepeat = true
           print "OK:AUTO_ON"
         else if btBuffer == "stop" then
           autoRepeat = false
           print "OK:AUTO_OFF"
         else if btBuffer == "clear" then
           clearAllPositions()
         else if btBuffer == "list" then
           listAllPositions()
         else
           print "ERR:UNKNOWN_COMMAND"
         
         btBuffer = ""  // ë²„í¼ ì´ˆê¸°í™”
  
  2. if autoRepeat == true then
       playSequence()
       delay(500)
```

**ë²„í¼ë§ì´ í•„ìš”í•œ ì´ìœ **:
1. **ë¹„ë™ê¸° í†µì‹ **: BluetoothëŠ” í•œ ê¸€ìì”© ìˆ˜ì‹  (`s` â†’ `a` â†’ `v` â†’ `e` â†’ `_`)
2. **íŒ¨í‚· ë¶„ë¦¬**: ì—¬ëŸ¬ ëª…ë ¹ì´ ì—°ì†ìœ¼ë¡œ ì˜¬ ìˆ˜ ìˆìŒ
3. **ì¢…ë£Œ êµ¬ë¶„ì**: `_`ë¡œ ëª…ë ¹ì˜ ëì„ êµ¬ë¶„
4. **ì•ˆì •ì„±**: ë¶€ë¶„ ëª…ë ¹ ë¬´ì‹œ (`sa`ë§Œ ì˜¤ê³  ëŠê¸°ë©´ ë¬´ì‹œ)

**ì‹¤ì œ ìˆ˜ì‹  ì˜ˆì‹œ**:
```
[BT ìˆ˜ì‹ ] 's' (ASCII: 115)
[ë²„í¼ ì¶”ê°€] í˜„ì¬: "s" (1ì)
[BT ìˆ˜ì‹ ] 'a' (ASCII: 97)
[ë²„í¼ ì¶”ê°€] í˜„ì¬: "sa" (2ì)
[BT ìˆ˜ì‹ ] 'v' (ASCII: 118)
[ë²„í¼ ì¶”ê°€] í˜„ì¬: "sav" (3ì)
[BT ìˆ˜ì‹ ] 'e' (ASCII: 101)
[ë²„í¼ ì¶”ê°€] í˜„ì¬: "save" (4ì)
[BT ìˆ˜ì‹ ] '_' (ASCII: 95)
[ëª…ë ¹ ì¢…ë£Œ ë¬¸ì: '_'] ëª…ë ¹ì–´ ë²„í¼: "save" (ê¸¸ì´: 4)
[ì¸ì‹] save ëª…ë ¹ ì‹¤í–‰
```

**ì‹œê°„ ë³µì¡ë„**: O(n), n = ëª…ë ¹ ê¸¸ì´ (ë³´í†µ 4~6ì)

**ê³µê°„ ë³µì¡ë„**: O(n), ë²„í¼ í¬ê¸° (ìµœëŒ€ 20ì)

### 06ë‹¨ê³„: ì•ˆì •ì„± ê°œì„ 

**ì£¼ìš” ê°œì„  ì‚¬í•­**:
- âœ… íƒ€ì´ë¨¸ ì¶©ëŒ ë°©ì§€ (Servo ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ millis() ì‚¬ìš©)
- âœ… ëª…ë ¹ ê²€ì¦ (ì˜ëª»ëœ ëª…ë ¹ ë¬´ì‹œ)
- âœ… ë©”ëª¨ë¦¬ ë³´í˜¸ (EEPROM ë²”ìœ„ ì²´í¬)
- âœ… ì‘ë‹µ ì¼ê´€ì„± (ëª¨ë“  ëª…ë ¹ì— OK/ERR ì‘ë‹µ)

```cpp
// millis() ì‚¬ìš©í•œ ë¹„ì°¨ë‹¨ delay
unsigned long lastMoveTime = 0;
const int MOVE_INTERVAL = 1000;

void loop() {
  checkBluetooth();
  
  if(autoMode) {
    unsigned long currentTime = millis();
    if(currentTime - lastMoveTime >= MOVE_INTERVAL) {
      playOneStep();
      lastMoveTime = currentTime;
    }
  }
}
```

**ì‹¤ìŠµ í™œë™**:
- [ ] HC-06 í˜ì–´ë§ (ë¹„ë°€ë²ˆí˜¸: 1234 ë˜ëŠ” 0000)
- [ ] Serial Bluetooth Terminal ì•± ì„¤ì¹˜
- [ ] ìŠ¤ë§ˆíŠ¸í°ì—ì„œ ëª…ë ¹ ì „ì†¡ í…ŒìŠ¤íŠ¸
- [ ] save_, play_, auto_, stop_ ëª¨ë‘ í…ŒìŠ¤íŠ¸

---

## 6-7êµì‹œ: ğŸ¤ ìŒì„± ì œì–´ ì•±ì¸ë²¤í„° (2ì‹œê°„)

**í•™ìŠµ ëª©í‘œ**: STT/TTSë¥¼ ì ìš©í•œ ìŒì„± ë¡œë´‡íŒ” ì œì–´ ì•± ë§Œë“¤ê¸°

### ğŸ“‹ í†µì‹  í”„ë¡œí† ì½œ ì •ì˜

#### ëª…ë ¹ í”„ë¡œí† ì½œ (ì•± â†’ ì•„ë‘ì´ë…¸)

| ëª…ë ¹ì–´ | í˜•ì‹ | íŒŒë¼ë¯¸í„° | ì¢…ë£Œ ë¬¸ì | ì˜ˆì‹œ |
|--------|------|---------|----------|------|
| **save** | `save_` | ì—†ìŒ | `_` | `save_` |
| **play** | `play_` | ì—†ìŒ | `_` | `play_` |
| **auto** | `auto_` | ì—†ìŒ | `_` | `auto_` |
| **stop** | `stop_` | ì—†ìŒ | `_` | `stop_` |
| **clear** | `clear_` | ì—†ìŒ | `_` | `clear_` |
| **list** | `list_` | ì—†ìŒ | `_` | `list_` |
| **home** | `home_` | ì—†ìŒ | `_` | `home_` |
| **arm** | `arm{N}_{ê°ë„}_` | N(0-3), ê°ë„(0-180) | `_` | `arm0_90_` |
| **pos** | `pos_{a0},{a1},{a2},{a3}_` | 4ê°œ ê°ë„ | `_` | `pos_90,120,60,5_` |

**í”„ë¡œí† ì½œ ê·œì¹™**:
- âœ… ëª¨ë“  ëª…ë ¹ì€ `_`ë¡œ ì¢…ë£Œ
- âœ… ëŒ€ì†Œë¬¸ì êµ¬ë¶„ ì—†ìŒ (ì†Œë¬¸ì ê¶Œì¥)
- âœ… ê³µë°± í—ˆìš© ì•ˆ í•¨
- âœ… í•œ ë²ˆì— í•˜ë‚˜ì˜ ëª…ë ¹ë§Œ ì „ì†¡

#### ì‘ë‹µ í”„ë¡œí† ì½œ (ì•„ë‘ì´ë…¸ â†’ ì•±)

| ì‘ë‹µ ìœ í˜• | í˜•ì‹ | ì˜ˆì‹œ | ì˜ë¯¸ |
|---------|------|------|------|
| **ì„±ê³µ** | `OK:{ëª…ë ¹}` | `OK:SAVE_3` | ëª…ë ¹ ì‹¤í–‰ ì„±ê³µ (ì €ì¥ 3ë²ˆì§¸) |
| **ì‹œì‘** | `{ë™ì‘}_START:{ê°œìˆ˜}` | `PLAY_START:5` | ì¬ìƒ ì‹œì‘ (5ë‹¨ê³„) |
| **ì§„í–‰** | `STEP_{n}` | `STEP_2` | në²ˆì§¸ ë‹¨ê³„ ì‹¤í–‰ ì¤‘ |
| **ì™„ë£Œ** | `{ë™ì‘}_DONE` | `PLAY_DONE` | ë™ì‘ ì™„ë£Œ |
| **ìë™ ëª¨ë“œ** | `AUTO_{ìƒíƒœ}:{íšŸìˆ˜}` | `AUTO_ON` / `AUTO_OFF:15` | ìë™ ëª¨ë“œ ìƒíƒœ |
| **ì—ëŸ¬** | `ERR:{ì´ìœ }` | `ERR:MEMORY_FULL` | ì˜¤ë¥˜ ë°œìƒ |
| **ì •ë³´** | `INFO:{ë‚´ìš©}` | `INFO:COUNT_5` | ì •ë³´ ì¶œë ¥ |

**ì—ëŸ¬ ì½”ë“œ ì •ì˜**:
- `ERR:MEMORY_FULL` - EEPROM ì €ì¥ ê³µê°„ ë¶€ì¡± (12ê°œ ì´ˆê³¼)
- `ERR:NO_DATA` - ì €ì¥ëœ ë°ì´í„° ì—†ìŒ
- `ERR:INVALID_RANGE` - ê°ë„ ë²”ìœ„ ì´ˆê³¼ (0-180)
- `ERR:UNKNOWN_COMMAND` - ì•Œ ìˆ˜ ì—†ëŠ” ëª…ë ¹

### ğŸ”„ ì™„ì „í•œ ë™ì‘ ìˆœì„œë„

#### Sequence 1: ìŒì„± ëª…ë ¹ ì „ì²´ íë¦„

```mermaid
sequenceDiagram
    participant User as ğŸ‘¤ ì‚¬ìš©ì
    participant App as ğŸ“± ì•±ì¸ë²¤í„°
    participant STT as ğŸ¤ STT
    participant BT as ğŸ“¡ Bluetooth
    participant Arduino as ğŸ¤– ì•„ë‘ì´ë…¸
    participant Servo as âš™ï¸ ì„œë³´ëª¨í„°
    participant TTS as ğŸ”Š TTS
    
    User->>App: "ì €ì¥í•´ì¤˜" ë°œí™”
    App->>STT: GetText() í˜¸ì¶œ
    STT-->>App: "ì €ì¥í•´ì¤˜" í…ìŠ¤íŠ¸
    
    App->>App: ëª…ë ¹ íŒŒì‹±<br/>"ì €ì¥" ê°ì§€
    App->>TTS: "ì €ì¥ ëª…ë ¹ì„ ì „ì†¡í•©ë‹ˆë‹¤"
    TTS-->>User: ìŒì„± ì¬ìƒ
    
    App->>BT: "save_" ì „ì†¡
    BT->>Arduino: Serial ìˆ˜ì‹ 
    
    Arduino->>Arduino: ë²„í¼ë§<br/>'s''a''v''e''_'
    Arduino->>Servo: í˜„ì¬ ê°ë„ ì½ê¸°
    Arduino->>Arduino: EEPROM ì €ì¥
    
    Arduino->>BT: "OK:SAVE_3" ì‘ë‹µ
    BT->>App: ì‘ë‹µ ìˆ˜ì‹ 
    
    App->>App: ì‘ë‹µ íŒŒì‹±<br/>"OK:SAVE" ê°ì§€
    App->>TTS: "ì €ì¥ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤"
    TTS-->>User: ìŒì„± ì¬ìƒ
    
    App->>App: UI ì—…ë°ì´íŠ¸<br/>ìƒíƒœ í‘œì‹œ
```

#### Sequence 2: ìë™ ì¬ìƒ íë¦„

```mermaid
sequenceDiagram
    participant App as ğŸ“± ì•±
    participant Arduino as ğŸ¤– ì•„ë‘ì´ë…¸
    participant EEPROM as ğŸ’¾ EEPROM
    participant Servo as âš™ï¸ ì„œë³´
    
    App->>Arduino: "auto_"
    Arduino->>Arduino: autoRepeat = true
    Arduino->>App: "OK:AUTO_ON"
    
    loop ë¬´í•œ ë°˜ë³µ (stop_ ëª…ë ¹ê¹Œì§€)
        Arduino->>Arduino: repeatCount++
        Arduino->>App: "ë°˜ë³µ #5 ì‹œì‘"
        
        Arduino->>EEPROM: ì €ì¥ëœ ê°œìˆ˜ ì½ê¸°
        Arduino->>App: "PLAY_START:5"
        
        loop ì €ì¥ëœ ë‹¨ê³„ë§Œí¼
            Arduino->>EEPROM: ê°ë„ ì½ê¸° (4ê°œ)
            Arduino->>Servo: ì„œë³´ ì´ë™
            Arduino->>App: "STEP_1"
            Arduino->>Arduino: delay(1000ms)
        end
        
        Arduino->>App: "PLAY_DONE"
        Arduino->>Arduino: delay(500ms)
    end
    
    App->>Arduino: "stop_"
    Arduino->>Arduino: autoRepeat = false
    Arduino->>App: "OK:AUTO_OFF:15"
```

### ğŸ”€ ì•±ì¸ë²¤í„° ìƒíƒœ ê¸°ê³„

```mermaid
stateDiagram-v2
    [*] --> Disconnected: ì•± ì‹œì‘
    
    Disconnected --> Connecting: btnConnect.Click
    Connecting --> Connected: ì—°ê²° ì„±ê³µ
    Connecting --> Disconnected: ì—°ê²° ì‹¤íŒ¨
    
    Connected --> Listening: btnSpeak.Click
    Listening --> Processing: STT ê²°ê³¼ ìˆ˜ì‹ 
    Processing --> Sending: ëª…ë ¹ íŒŒì‹± ì™„ë£Œ
    
    Sending --> WaitingResponse: BT ì „ì†¡ ì™„ë£Œ
    WaitingResponse --> Connected: ì‘ë‹µ ìˆ˜ì‹ <br/>(OK/ERR)
    WaitingResponse --> Connected: íƒ€ì„ì•„ì›ƒ (3ì´ˆ)
    
    Connected --> ManualControl: ë²„íŠ¼ í´ë¦­
    ManualControl --> Sending: ëª…ë ¹ ì „ì†¡
    
    Connected --> AutoMode: auto_ ì „ì†¡
    AutoMode --> Connected: stop_ ì „ì†¡
    
    Connected --> Disconnected: ì—°ê²° ëŠê¹€
    
    note right of Disconnected
        ìƒíƒœ: "ì—°ê²° ëŒ€ê¸°ì¤‘"
        ìƒ‰ìƒ: íšŒìƒ‰
    end note
    
    note right of Connected
        ìƒíƒœ: "ì—°ê²°ë¨"
        ìƒ‰ìƒ: ì´ˆë¡
    end note
    
    note right of AutoMode
        ìƒíƒœ: "ìë™ ëª¨ë“œ"
        ìƒ‰ìƒ: ì£¼í™©
        ë²„íŠ¼: stopë§Œ í™œì„±í™”
    end note
```

### ìŒì„± ì œì–´ ì‹œìŠ¤í…œ êµ¬ì¡°

```mermaid
graph LR
    USER[ì‚¬ìš©ì<br/>ìŒì„±] --> STT[Speech<br/>Recognizer]
    STT --> PARSE[ëª…ë ¹<br/>íŒŒì‹±]
    PARSE --> BT[Bluetooth<br/>ì „ì†¡]
    BT --> ARM[ë¡œë´‡íŒ”<br/>ì‹¤í–‰]
    ARM --> RESP[ì‘ë‹µ<br/>ìˆ˜ì‹ ]
    RESP --> TTS[Text To<br/>Speech]
    TTS --> USER
    
    style USER fill:#99E9F2,color:#111
    style STT fill:#FFD93D,color:#111
    style TTS fill:#51CF66,color:#fff
```

### ğŸ“± ì•±ì¸ë²¤í„° ìƒì„¸ ì„¤ê³„

#### UI êµ¬ì¡°ë„

```mermaid
graph TD
    SCREEN[Screen1<br/>ë°°ê²½ìƒ‰: í°ìƒ‰] --> HEADER[VerticalArrangement<br/>í—¤ë” ì˜ì—­]
    SCREEN --> CONNECTION[HorizontalArrangement<br/>ì—°ê²° ì˜ì—­]
    SCREEN --> VOICE[VerticalArrangement<br/>ìŒì„± ì˜ì—­]
    SCREEN --> MANUAL[HorizontalArrangement<br/>ìˆ˜ë™ ì œì–´]
    SCREEN --> STATUS[VerticalArrangement<br/>ìƒíƒœ í‘œì‹œ]
    SCREEN --> LOG[ScrollableArrangement<br/>ë¡œê·¸]
    
    HEADER --> TITLE[Label<br/>ğŸ¤– ìŒì„± ë¡œë´‡íŒ”]
    
    CONNECTION --> BTN_CONN[ListPicker<br/>BT ì—°ê²°]
    CONNECTION --> LBL_CONN[Label<br/>ì—°ê²° ìƒíƒœ]
    
    VOICE --> BTN_VOICE[Button<br/>ğŸ¤ ë§í•˜ê¸°]
    VOICE --> LBL_RESULT[Label<br/>ì¸ì‹ ê²°ê³¼]
    
    MANUAL --> BTN_SAVE[Button<br/>ğŸ’¾ ì €ì¥]
    MANUAL --> BTN_PLAY[Button<br/>â–¶ï¸ ì¬ìƒ]
    MANUAL --> BTN_AUTO[Button<br/>ğŸ”„ ìë™]
    MANUAL --> BTN_STOP[Button<br/>â¹ï¸ ì¤‘ì§€]
    MANUAL --> BTN_HOME[Button<br/>ğŸ  í™ˆ]
    MANUAL --> BTN_CLEAR[Button<br/>ğŸ—‘ï¸ ì´ˆê¸°í™”]
    
    STATUS --> LBL_STATUS[Label<br/>ìƒíƒœ ë©”ì‹œì§€]
    STATUS --> PROGRESS[Slider<br/>ì§„í–‰ë¥ ]
    STATUS --> LBL_PROGRESS[Label<br/>ë‹¨ê³„ í‘œì‹œ]
    
    LOG --> LIST_LOG[ListView<br/>í†µì‹  ë¡œê·¸]
    
    style SCREEN fill:#FFE3E3,color:#111
    style VOICE fill:#FFD93D,color:#111
    style MANUAL fill:#FFA94D,color:#111
```

#### ì»´í¬ë„ŒíŠ¸ ìƒì„¸ ì†ì„±í‘œ

**1. ë ˆì´ì•„ì›ƒ ì»´í¬ë„ŒíŠ¸**

| ì»´í¬ë„ŒíŠ¸ | ì´ë¦„ | ì†ì„± | ê°’ |
|---------|------|------|-----|
| VerticalArrangement | `VA_Header` | Width | Fill parent |
|  |  | Height | 10% |
|  |  | AlignHorizontal | Center |
|  |  | BackgroundColor | #3498db (íŒŒë‘) |
| HorizontalArrangement | `HA_Connection` | Width | Fill parent |
|  |  | Height | 60px |
|  |  | AlignVertical | Center |
| VerticalArrangement | `VA_Voice` | Width | Fill parent |
|  |  | Height | 20% |
|  |  | AlignHorizontal | Center |
|  |  | BackgroundColor | #f1c40f (ë…¸ë‘) |
| HorizontalArrangement | `HA_Manual` | Width | Fill parent |
|  |  | Height | 80px |
|  |  | AlignVertical | Center |
| ScrollableArrangement | `SA_Log` | Width | Fill parent |
|  |  | Height | 200px |
|  |  | BackgroundColor | #ecf0f1 (íšŒìƒ‰) |

**2. ë²„íŠ¼ ì»´í¬ë„ŒíŠ¸**

| ì»´í¬ë„ŒíŠ¸ | ì´ë¦„ | ì†ì„± | ê°’ |
|---------|------|------|-----|
| ListPicker | `ListPickerBT` | Text | "ğŸ“¡ ë¸”ë£¨íˆ¬ìŠ¤ ì—°ê²°" |
|  |  | Width | 200px |
|  |  | Height | 50px |
|  |  | FontSize | 16 |
|  |  | BackgroundColor | #3498db |
|  |  | TextColor | í°ìƒ‰ |
| Button | `btnSpeak` | Text | "ğŸ¤ ë§í•˜ê¸°" |
|  |  | Width | Fill parent |
|  |  | Height | 80px |
|  |  | FontSize | 24 |
|  |  | BackgroundColor | #e74c3c (ë¹¨ê°•) |
|  |  | TextColor | í°ìƒ‰ |
|  |  | Enabled | false (ì´ˆê¸°) |
| Button | `btnSave` | Text | "ğŸ’¾" |
|  |  | Width | 15% |
|  |  | Height | 60px |
|  |  | FontSize | 20 |
|  |  | BackgroundColor | #2ecc71 (ì´ˆë¡) |
|  |  | Enabled | false |
| Button | `btnPlay` | Text | "â–¶ï¸" |
|  |  | Width | 15% |
|  |  | Height | 60px |
|  |  | FontSize | 20 |
|  |  | BackgroundColor | #3498db (íŒŒë‘) |
|  |  | Enabled | false |
| Button | `btnAuto` | Text | "ğŸ”„" |
|  |  | Width | 15% |
|  |  | Height | 60px |
|  |  | FontSize | 20 |
|  |  | BackgroundColor | #f39c12 (ì£¼í™©) |
|  |  | Enabled | false |
| Button | `btnStop` | Text | "â¹ï¸" |
|  |  | Width | 15% |
|  |  | Height | 60px |
|  |  | FontSize | 20 |
|  |  | BackgroundColor | #e74c3c (ë¹¨ê°•) |
|  |  | Enabled | false |
| Button | `btnHome` | Text | "ğŸ " |
|  |  | Width | 15% |
|  |  | Height | 60px |
|  |  | FontSize | 20 |
|  |  | BackgroundColor | #95a5a6 (íšŒìƒ‰) |
|  |  | Enabled | false |
| Button | `btnClear` | Text | "ğŸ—‘ï¸" |
|  |  | Width | 15% |
|  |  | Height | 60px |
|  |  | FontSize | 20 |
|  |  | BackgroundColor | #c0392b (ì§„í•œ ë¹¨ê°•) |
|  |  | Enabled | false |

**3. ë ˆì´ë¸” ì»´í¬ë„ŒíŠ¸**

| ì»´í¬ë„ŒíŠ¸ | ì´ë¦„ | ì†ì„± | ê°’ |
|---------|------|------|-----|
| Label | `lblTitle` | Text | "ğŸ¤– ìŒì„± ë¡œë´‡íŒ” ì œì–´" |
|  |  | Width | Fill parent |
|  |  | Height | 50px |
|  |  | FontSize | 24 |
|  |  | FontBold | true |
|  |  | TextAlignment | Center |
|  |  | TextColor | í°ìƒ‰ |
| Label | `lblConnStatus` | Text | "âšª ì—°ê²° ëŒ€ê¸°ì¤‘" |
|  |  | Width | Fill parent |
|  |  | FontSize | 14 |
|  |  | TextColor | ê²€ì • |
| Label | `lblResult` | Text | "" |
|  |  | Width | Fill parent |
|  |  | Height | 40px |
|  |  | FontSize | 18 |
|  |  | TextAlignment | Center |
|  |  | BackgroundColor | #fff9c4 (ì—°ë…¸ë‘) |
| Label | `lblStatus` | Text | "ëŒ€ê¸° ì¤‘..." |
|  |  | Width | Fill parent |
|  |  | Height | 50px |
|  |  | FontSize | 16 |
|  |  | TextAlignment | Center |
|  |  | BackgroundColor | #ecf0f1 |
| Label | `lblProgress` | Text | "0 / 0" |
|  |  | Width | Fill parent |
|  |  | FontSize | 14 |
|  |  | TextAlignment | Center |

**4. ê¸°íƒ€ ì»´í¬ë„ŒíŠ¸**

| ì»´í¬ë„ŒíŠ¸ | ì´ë¦„ | ì†ì„± | ê°’ |
|---------|------|------|-----|
| Slider | `SliderProgress` | Width | Fill parent |
|  |  | MinValue | 0 |
|  |  | MaxValue | 12 |
|  |  | ThumbEnabled | false (ì½ê¸° ì „ìš©) |
| ListView | `ListViewLog` | Width | Fill parent |
|  |  | Height | 200px |
|  |  | BackgroundColor | í°ìƒ‰ |
|  |  | TextColor | ê²€ì • |
|  |  | FontSize | 12 |

**5. ë³´ì´ì§€ ì•ŠëŠ” ì»´í¬ë„ŒíŠ¸**

| ì»´í¬ë„ŒíŠ¸ | ì´ë¦„ | ì†ì„± | ê°’ |
|---------|------|------|-----|
| BluetoothClient | `BluetoothClient1` | DelimiterByte | 10 (ì¤„ë°”ê¿ˆ) |
| SpeechRecognizer | `SpeechRecognizer1` | Language | "ko-KR" (í•œêµ­ì–´) |
| TextToSpeech | `TextToSpeech1` | Language | "ko-KR" |
|  |  | Pitch | 1.0 |
|  |  | SpeechRate | 1.0 |
| Clock | `Clock1` | TimerInterval | 100 (0.1ì´ˆ) |
|  |  | TimerEnabled | true |
| Notifier | `Notifier1` | (ì•Œë¦¼ìš©) | |

### ë¸”ë¡ ì½”ë”© í”Œë¡œìš°ì°¨íŠ¸

#### Flow 1: ë¸”ë£¨íˆ¬ìŠ¤ ì—°ê²° ì•Œê³ ë¦¬ì¦˜

```mermaid
graph TD
    START[ë²„íŠ¼ í´ë¦­<br/>btnConnect] --> LIST_PICKER[ListPicker<br/>ë””ë°”ì´ìŠ¤ ì„ íƒ]
    LIST_PICKER --> BEFORE_PICK[BeforePicking<br/>ì´ë²¤íŠ¸]
    
    BEFORE_PICK --> GET_LIST[BluetoothClient<br/>AddressesAndNames]
    GET_LIST --> SHOW_LIST[ì„ íƒ í™”ë©´<br/>í‘œì‹œ]
    
    SHOW_LIST --> AFTER_PICK[AfterPicking<br/>ì´ë²¤íŠ¸]
    AFTER_PICK --> EXTRACT[ì„ íƒëœ<br/>ì£¼ì†Œ ì¶”ì¶œ]
    
    EXTRACT --> TRY_CONNECT{Connect<br/>ì‹œë„}
    TRY_CONNECT -->|ì„±ê³µ| SUCCESS[ìƒíƒœ: ì—°ê²°ë¨<br/>ìƒ‰ìƒ: ì´ˆë¡]
    TRY_CONNECT -->|ì‹¤íŒ¨| FAIL[ìƒíƒœ: ì—°ê²° ì‹¤íŒ¨<br/>ìƒ‰ìƒ: ë¹¨ê°•]
    
    SUCCESS --> TTS_OK[TTS: ì—°ê²°ë¨]
    FAIL --> TTS_ERR[TTS: ì‹¤íŒ¨]
    
    TTS_OK --> ENABLE[ì œì–´ ë²„íŠ¼<br/>í™œì„±í™”]
    TTS_ERR --> DISABLE[ë²„íŠ¼<br/>ë¹„í™œì„±í™”]
    
    style START fill:#99E9F2,color:#111
    style SUCCESS fill:#51CF66,color:#fff
    style FAIL fill:#FF6B6B,color:#fff
```

### ë¸”ë¡ ì½”ë”©: Bluetooth ì—°ê²°

```
ğŸ“ when btnConnect.Click
  â”œâ”€ call ListPickerBT.Open()  // ë””ë°”ì´ìŠ¤ ì„ íƒ í™”ë©´

ğŸ“ when ListPickerBT.BeforePicking
  â”œâ”€ set ListPickerBT.Elements to BluetoothClient1.AddressesAndNames
  â””â”€ // í˜ì–´ë§ëœ ë””ë°”ì´ìŠ¤ ëª©ë¡ í‘œì‹œ

ğŸ“ when ListPickerBT.AfterPicking
  â”œâ”€ set selection to ListPickerBT.Selection
  â”œâ”€ set btAddress to segment(selection, " ", 1)  // ì£¼ì†Œ ì¶”ì¶œ
  â”‚
  â”œâ”€ set lblStatus.Text to "ì—°ê²° ì¤‘..."
  â”œâ”€ set lblStatus.BackgroundColor to ë…¸ë‘
  â”‚
  â”œâ”€ if BluetoothClient1.Connect(btAddress)
  â”‚   â”œâ”€ set lblStatus.Text to "âœ… ì—°ê²° ì„±ê³µ!"
  â”‚   â”œâ”€ set lblStatus.BackgroundColor to ì´ˆë¡
  â”‚   â”œâ”€ call TextToSpeech1.Speak("ë¡œë´‡íŒ”ì— ì—°ê²°ë˜ì—ˆìŠµë‹ˆë‹¤")
  â”‚   â”‚
  â”‚   â”œâ”€ // ì œì–´ ë²„íŠ¼ í™œì„±í™”
  â”‚   â”œâ”€ set btnSpeak.Enabled to true
  â”‚   â”œâ”€ set btnSave.Enabled to true
  â”‚   â”œâ”€ set btnPlay.Enabled to true
  â”‚   â”œâ”€ set btnAuto.Enabled to true
  â”‚   â””â”€ set btnStop.Enabled to true
  â”‚
  â””â”€ else
      â”œâ”€ set lblStatus.Text to "âŒ ì—°ê²° ì‹¤íŒ¨"
      â”œâ”€ set lblStatus.BackgroundColor to ë¹¨ê°•
      â”œâ”€ call TextToSpeech1.Speak("ì—°ê²°ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤")
      â””â”€ // ë²„íŠ¼ ë¹„í™œì„±í™” ìœ ì§€
```

#### Flow 2: ìŒì„± ì¸ì‹ ë° ëª…ë ¹ íŒŒì‹±

```mermaid
graph TD
    START[ë²„íŠ¼ í´ë¦­<br/>btnSpeak] --> CHECK_CONN{BT<br/>ì—°ê²°?}
    CHECK_CONN -->|No| ERR_CONN[TTS: ë¨¼ì €<br/>ì—°ê²°í•˜ì„¸ìš”]
    CHECK_CONN -->|Yes| SHOW_UI[UI: ë“£ëŠ” ì¤‘]
    
    SHOW_UI --> STT_START[STT.GetText<br/>í˜¸ì¶œ]
    STT_START --> WAIT[ì‚¬ìš©ì<br/>ë°œí™” ëŒ€ê¸°]
    
    WAIT --> STT_RESULT{ì¸ì‹<br/>ì„±ê³µ?}
    STT_RESULT -->|No| ERR_STT[TTS: ì¸ì‹<br/>ì‹¤íŒ¨]
    STT_RESULT -->|Yes| DISPLAY[ê²°ê³¼ í‘œì‹œ<br/>lblResult]
    
    DISPLAY --> PARSE[ëª…ë ¹ì–´<br/>íŒŒì‹±]
    PARSE --> MATCH{í‚¤ì›Œë“œ<br/>ë§¤ì¹­?}
    
    MATCH -->|ì €ì¥| CMD_SAVE[save_]
    MATCH -->|ì¬ìƒ| CMD_PLAY[play_]
    MATCH -->|ìë™| CMD_AUTO[auto_]
    MATCH -->|ì¤‘ì§€| CMD_STOP[stop_]
    MATCH -->|í™ˆ| CMD_HOME[home_]
    MATCH -->|No| ERR_PARSE[TTS: ëª…ë ¹<br/>ì´í•´ ëª»í•¨]
    
    CMD_SAVE & CMD_PLAY & CMD_AUTO & CMD_STOP & CMD_HOME --> SEND[sendCommand<br/>í˜¸ì¶œ]
    
    SEND --> BT_SEND[Bluetooth<br/>ì „ì†¡]
    BT_SEND --> WAIT_RESP[ì‘ë‹µ<br/>ëŒ€ê¸°]
    
    style START fill:#99E9F2,color:#111
    style PARSE fill:#FFD93D,color:#111
    style SEND fill:#51CF66,color:#fff
```

### ë¸”ë¡ ì½”ë”©: ìŒì„± ì¸ì‹ (STT)

```
ğŸ“ when btnSpeak.Click
  â”œâ”€ // ì—°ê²° í™•ì¸
  â”œâ”€ if not BluetoothClient1.IsConnected
  â”‚   â”œâ”€ call TextToSpeech1.Speak("ë¨¼ì € ë¸”ë£¨íˆ¬ìŠ¤ë¥¼ ì—°ê²°í•´ì£¼ì„¸ìš”")
  â”‚   â””â”€ return
  â”‚
  â”œâ”€ // UI ì—…ë°ì´íŠ¸
  â”œâ”€ set lblResult.Text to "ğŸ¤ ë“£ëŠ” ì¤‘..."
  â”œâ”€ set lblResult.BackgroundColor to ë…¸ë‘
  â”œâ”€ set btnSpeak.Enabled to false  // ì¤‘ë³µ ë°©ì§€
  â”‚
  â””â”€ call SpeechRecognizer1.GetText()

ğŸ“ when SpeechRecognizer1.AfterGettingText (result)
  â”œâ”€ set btnSpeak.Enabled to true  // ë‹¤ì‹œ í™œì„±í™”
  â”‚
  â”œâ”€ // ì¸ì‹ ê²°ê³¼ í™•ì¸
  â”œâ”€ if result == "" or result == null
  â”‚   â”œâ”€ set lblResult.Text to "âŒ ì¸ì‹ ì‹¤íŒ¨"
  â”‚   â”œâ”€ set lblResult.BackgroundColor to ë¹¨ê°•
  â”‚   â”œâ”€ call TextToSpeech1.Speak("ìŒì„±ì„ ì¸ì‹í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤")
  â”‚   â””â”€ return
  â”‚
  â”œâ”€ // ê²°ê³¼ í‘œì‹œ
  â”œâ”€ set lblResult.Text to result
  â”œâ”€ set lblResult.BackgroundColor to ì´ˆë¡
  â”‚
  â”œâ”€ // ëª…ë ¹ íŒŒì‹± ë° ì‹¤í–‰
  â””â”€ call parseVoiceCommand(result)
```

### ë¸”ë¡ ì½”ë”©: ìŒì„± ëª…ë ¹ íŒŒì‹±

```
ğŸ“ procedure parseVoiceCommand (text)
  â”œâ”€ // ì†Œë¬¸ì ë³€í™˜ (ì˜ì–´ ëª…ë ¹ ëŒ€ë¹„)
  â”œâ”€ set lowerText to lowercase(text)
  â”‚
  â”œâ”€ // í‚¤ì›Œë“œ ë§¤ì¹­ (í•œê¸€ + ì˜ì–´)
  â”œâ”€ if contains(lowerText, "ì €ì¥") or contains(lowerText, "ì„¸ì´ë¸Œ") or contains(lowerText, "save")
  â”‚   â”œâ”€ call sendCommand("save_")
  â”‚   â””â”€ call TextToSpeech1.Speak("ìœ„ì¹˜ë¥¼ ì €ì¥í•©ë‹ˆë‹¤")
  â”‚
  â”œâ”€ else if contains(lowerText, "ì¬ìƒ") or contains(lowerText, "í”Œë ˆì´") or contains(lowerText, "play")
  â”‚   â”œâ”€ call sendCommand("play_")
  â”‚   â””â”€ call TextToSpeech1.Speak("ì €ì¥ëœ ë™ì‘ì„ ì¬ìƒí•©ë‹ˆë‹¤")
  â”‚
  â”œâ”€ else if contains(lowerText, "ìë™") or contains(lowerText, "ì˜¤í† ") or contains(lowerText, "auto")
  â”‚   â”œâ”€ call sendCommand("auto_")
  â”‚   â””â”€ call TextToSpeech1.Speak("ìë™ ëª¨ë“œë¥¼ ì‹œì‘í•©ë‹ˆë‹¤")
  â”‚
  â”œâ”€ else if contains(lowerText, "ì¤‘ì§€") or contains(lowerText, "ë©ˆì¶°") or contains(lowerText, "ìŠ¤íƒ‘") or contains(lowerText, "stop")
  â”‚   â”œâ”€ call sendCommand("stop_")
  â”‚   â””â”€ call TextToSpeech1.Speak("ì¤‘ì§€í•©ë‹ˆë‹¤")
  â”‚
  â”œâ”€ else if contains(lowerText, "í™ˆ") or contains(lowerText, "ì²˜ìŒ") or contains(lowerText, "home")
  â”‚   â”œâ”€ call sendCommand("home_")
  â”‚   â””â”€ call TextToSpeech1.Speak("í™ˆ ìœ„ì¹˜ë¡œ ì´ë™í•©ë‹ˆë‹¤")
  â”‚
  â”œâ”€ else if contains(lowerText, "ì´ˆê¸°í™”") or contains(lowerText, "ë¦¬ì…‹") or contains(lowerText, "clear")
  â”‚   â”œâ”€ call sendCommand("clear_")
  â”‚   â””â”€ call TextToSpeech1.Speak("ì €ì¥ëœ ë°ì´í„°ë¥¼ ì‚­ì œí•©ë‹ˆë‹¤")
  â”‚
  â”œâ”€ else if contains(lowerText, "ëª©ë¡") or contains(lowerText, "ë¦¬ìŠ¤íŠ¸") or contains(lowerText, "list")
  â”‚   â”œâ”€ call sendCommand("list_")
  â”‚   â””â”€ call TextToSpeech1.Speak("ì €ì¥ëœ ìœ„ì¹˜ë¥¼ í™•ì¸í•©ë‹ˆë‹¤")
  â”‚
  â””â”€ else
      â”œâ”€ set lblStatus.Text to "âŒ ì•Œ ìˆ˜ ì—†ëŠ” ëª…ë ¹"
      â””â”€ call TextToSpeech1.Speak("ëª…ë ¹ì„ ì´í•´í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ë§ì”€í•´ì£¼ì„¸ìš”")
```

#### Flow 3: ëª…ë ¹ ì „ì†¡ ë° ì‘ë‹µ ì²˜ë¦¬

```mermaid
graph TD
    START[sendCommand<br/>í˜¸ì¶œ] --> CHECK_BT{BT<br/>ì—°ê²°?}
    CHECK_BT -->|No| ERR_BT[TTS: ì—°ê²°<br/>í•„ìš”]
    CHECK_BT -->|Yes| SEND[BT.SendText<br/>cmd]
    
    SEND --> UI_SEND[UI: ì „ì†¡ ì¤‘<br/>ë…¸ë‘]
    UI_SEND --> TIMER_START[íƒ€ì´ë¨¸<br/>ì‹œì‘]
    
    TIMER_START --> CLOCK[Clock1.Timer<br/>100ms ì£¼ê¸°]
    CLOCK --> CHECK_DATA{ë°ì´í„°<br/>ìˆ˜ì‹ ?}
    
    CHECK_DATA -->|No| CHECK_TIME{3ì´ˆ<br/>ì´ˆê³¼?}
    CHECK_TIME -->|No| CLOCK
    CHECK_TIME -->|Yes| TIMEOUT[íƒ€ì„ì•„ì›ƒ<br/>ì—ëŸ¬]
    
    CHECK_DATA -->|Yes| RECEIVE[ReceiveText<br/>ë°ì´í„° ì½ê¸°]
    RECEIVE --> PARSE_RESP[ì‘ë‹µ<br/>íŒŒì‹±]
    
    PARSE_RESP --> TYPE{ì‘ë‹µ<br/>ìœ í˜•?}
    
    TYPE -->|OK:SAVE| RESP_SAVE[TTS: ì €ì¥<br/>ì™„ë£Œ]
    TYPE -->|OK:PLAY| RESP_PLAY[TTS: ì¬ìƒ<br/>ì‹œì‘]
    TYPE -->|PLAY_DONE| RESP_DONE[TTS: ì¬ìƒ<br/>ì™„ë£Œ]
    TYPE -->|OK:AUTO_ON| RESP_AUTO_ON[TTS: ìë™<br/>ì‹œì‘]
    TYPE -->|OK:AUTO_OFF| RESP_AUTO_OFF[TTS: ìë™<br/>ì¤‘ì§€]
    TYPE -->|STEP_n| RESP_STEP[UI: ë‹¨ê³„<br/>í‘œì‹œ]
    TYPE -->|ERR:| RESP_ERR[TTS: ì˜¤ë¥˜<br/>ë°œìƒ]
    
    RESP_SAVE & RESP_PLAY & RESP_DONE & RESP_AUTO_ON & RESP_AUTO_OFF --> UI_OK[UI: ì„±ê³µ<br/>ì´ˆë¡]
    RESP_ERR & TIMEOUT --> UI_ERR[UI: ì‹¤íŒ¨<br/>ë¹¨ê°•]
    
    UI_OK --> LOG[ë¡œê·¸ì—<br/>ê¸°ë¡]
    UI_ERR --> LOG
    
    style START fill:#99E9F2,color:#111
    style PARSE_RESP fill:#FFD93D,color:#111
    style UI_OK fill:#51CF66,color:#fff
    style UI_ERR fill:#FF6B6B,color:#fff
```

### ë¸”ë¡ ì½”ë”©: ëª…ë ¹ ì „ì†¡ ë° ì‘ë‹µ

```
ğŸ“ global variables
  â”œâ”€ waitingForResponse = false  // ì‘ë‹µ ëŒ€ê¸° ìƒíƒœ
  â”œâ”€ lastCommandTime = 0  // ë§ˆì§€ë§‰ ëª…ë ¹ ì „ì†¡ ì‹œê°
  â”œâ”€ TIMEOUT_MS = 3000  // íƒ€ì„ì•„ì›ƒ 3ì´ˆ
  â””â”€ responseBuffer = ""  // ì‘ë‹µ ë²„í¼

ğŸ“ procedure sendCommand (cmd)
  â”œâ”€ // ì—°ê²° í™•ì¸
  â”œâ”€ if not BluetoothClient1.IsConnected
  â”‚   â”œâ”€ set lblStatus.Text to "âŒ ì—°ê²° í•„ìš”"
  â”‚   â”œâ”€ call TextToSpeech1.Speak("ë¨¼ì € ë¸”ë£¨íˆ¬ìŠ¤ë¥¼ ì—°ê²°í•´ì£¼ì„¸ìš”")
  â”‚   â””â”€ return
  â”‚
  â”œâ”€ // ëª…ë ¹ ì „ì†¡
  â”œâ”€ call BluetoothClient1.SendText(cmd)
  â”œâ”€ set lblStatus.Text to "ğŸ“¤ ì „ì†¡: " + cmd
  â”œâ”€ set lblStatus.BackgroundColor to ë…¸ë‘
  â”‚
  â”œâ”€ // ì‘ë‹µ ëŒ€ê¸° ìƒíƒœ ì„¤ì •
  â”œâ”€ set waitingForResponse to true
  â”œâ”€ set lastCommandTime to Clock1.SystemTime
  â”‚
  â””â”€ // ë¡œê·¸ ê¸°ë¡
      â””â”€ call addToLog("ì „ì†¡", cmd, Clock1.FormatDateTime)

ğŸ“ when Clock1.Timer (ë§¤ 100ms)
  â”œâ”€ // ì‘ë‹µ ëŒ€ê¸° ì¤‘ì¸ì§€ í™•ì¸
  â”œâ”€ if waitingForResponse
  â”‚   â”‚
  â”‚   â”œâ”€ // íƒ€ì„ì•„ì›ƒ ì²´í¬ (3ì´ˆ)
  â”‚   â”œâ”€ set elapsed to Clock1.SystemTime - lastCommandTime
  â”‚   â”œâ”€ if elapsed > TIMEOUT_MS
  â”‚   â”‚   â”œâ”€ set waitingForResponse to false
  â”‚   â”‚   â”œâ”€ set lblStatus.Text to "â±ï¸ ì‘ë‹µ ì—†ìŒ (íƒ€ì„ì•„ì›ƒ)"
  â”‚   â”‚   â”œâ”€ set lblStatus.BackgroundColor to ë¹¨ê°•
  â”‚   â”‚   â”œâ”€ call TextToSpeech1.Speak("ë¡œë´‡íŒ”ì´ ì‘ë‹µí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤")
  â”‚   â”‚   â””â”€ return
  â”‚
  â”œâ”€ // ë¸”ë£¨íˆ¬ìŠ¤ ë°ì´í„° í™•ì¸
  â”œâ”€ if BluetoothClient1.IsConnected
  â”‚   â”‚
  â”‚   â”œâ”€ if BluetoothClient1.BytesAvailableToReceive > 0
  â”‚   â”‚   â”‚
  â”‚   â”‚   â”œâ”€ // ë°ì´í„° ìˆ˜ì‹ 
  â”‚   â”‚   â”œâ”€ set response to BluetoothClient1.ReceiveText(-1)
  â”‚   â”‚   â”œâ”€ set responseBuffer to responseBuffer + response
  â”‚   â”‚   â”‚
  â”‚   â”‚   â”œâ”€ // ì¤„ë°”ê¿ˆìœ¼ë¡œ êµ¬ë¶„ëœ ì™„ì „í•œ ë©”ì‹œì§€ë§Œ ì²˜ë¦¬
  â”‚   â”‚   â”œâ”€ if contains(responseBuffer, "\n")
  â”‚   â”‚   â”‚   â”œâ”€ set messages to split(responseBuffer, "\n")
  â”‚   â”‚   â”‚   â”‚
  â”‚   â”‚   â”‚   â”œâ”€ for each message in messages
  â”‚   â”‚   â”‚   â”‚   â””â”€ call handleResponse(message)
  â”‚   â”‚   â”‚   â”‚
  â”‚   â”‚   â”‚   â””â”€ set responseBuffer to ""
  â”‚   â”‚
  â”‚   â””â”€ else
  â”‚       â”œâ”€ // ì—°ê²° ëŠê¹€
  â”‚       â”œâ”€ set lblStatus.Text to "âŒ ì—°ê²° ëŠê¹€"
  â”‚       â””â”€ set waitingForResponse to false

ğŸ“ procedure handleResponse (response)
  â”œâ”€ call addToLog("ìˆ˜ì‹ ", response, Clock1.FormatDateTime)
  â”œâ”€ set waitingForResponse to false  // ì‘ë‹µ ë°›ìŒ
  â”‚
  â”œâ”€ // OK: ì„±ê³µ ì‘ë‹µ
  â”œâ”€ if contains(response, "OK:SAVE")
  â”‚   â”œâ”€ set lblStatus.Text to "âœ… ì €ì¥ ì™„ë£Œ"
  â”‚   â”œâ”€ set lblStatus.BackgroundColor to ì´ˆë¡
  â”‚   â”œâ”€ call TextToSpeech1.Speak("ì €ì¥ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤")
  â”‚   â””â”€ call extractSaveNumber(response)  // "OK:SAVE_3" â†’ 3ë²ˆì§¸
  â”‚
  â”œâ”€ else if contains(response, "OK:PLAY")
  â”‚   â”œâ”€ set lblStatus.Text to "â–¶ï¸ ì¬ìƒ ì‹œì‘"
  â”‚   â”œâ”€ call TextToSpeech1.Speak("ì¬ìƒì„ ì‹œì‘í•©ë‹ˆë‹¤")
  â”‚
  â”œâ”€ else if contains(response, "PLAY_START")
  â”‚   â”œâ”€ set stepCount to extractNumber(response)  // "PLAY_START:5" â†’ 5
  â”‚   â”œâ”€ set lblStatus.Text to "ì¬ìƒ ì¤‘ (" + stepCount + "ë‹¨ê³„)"
  â”‚   â””â”€ call initProgressBar(stepCount)
  â”‚
  â”œâ”€ else if contains(response, "STEP_")
  â”‚   â”œâ”€ set stepNum to extractNumber(response)  // "STEP_3" â†’ 3
  â”‚   â”œâ”€ set lblStatus.Text to "â–¶ï¸ ë‹¨ê³„ " + stepNum
  â”‚   â””â”€ call updateProgressBar(stepNum)
  â”‚
  â”œâ”€ else if contains(response, "PLAY_DONE")
  â”‚   â”œâ”€ set lblStatus.Text to "âœ… ì¬ìƒ ì™„ë£Œ"
  â”‚   â”œâ”€ set lblStatus.BackgroundColor to ì´ˆë¡
  â”‚   â””â”€ call TextToSpeech1.Speak("ì¬ìƒì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤")
  â”‚
  â”œâ”€ else if contains(response, "OK:AUTO_ON")
  â”‚   â”œâ”€ set lblStatus.Text to "ğŸ”„ ìë™ ëª¨ë“œ ON"
  â”‚   â”œâ”€ set lblStatus.BackgroundColor to ì£¼í™©
  â”‚   â”œâ”€ set btnAuto.Enabled to false
  â”‚   â”œâ”€ set btnStop.Enabled to true
  â”‚   â””â”€ call TextToSpeech1.Speak("ìë™ ëª¨ë“œë¥¼ ì‹œì‘í•©ë‹ˆë‹¤")
  â”‚
  â”œâ”€ else if contains(response, "OK:AUTO_OFF")
  â”‚   â”œâ”€ set repeatCount to extractNumber(response)  // "OK:AUTO_OFF:15" â†’ 15íšŒ
  â”‚   â”œâ”€ set lblStatus.Text to "â¹ï¸ ìë™ ëª¨ë“œ OFF (ì´ " + repeatCount + "íšŒ)"
  â”‚   â”œâ”€ set lblStatus.BackgroundColor to ì´ˆë¡
  â”‚   â”œâ”€ set btnAuto.Enabled to true
  â”‚   â”œâ”€ set btnStop.Enabled to false
  â”‚   â””â”€ call TextToSpeech1.Speak("ìë™ ëª¨ë“œë¥¼ ì¤‘ì§€í–ˆìŠµë‹ˆë‹¤")
  â”‚
  â”œâ”€ else if contains(response, "ERR:MEMORY_FULL")
  â”‚   â”œâ”€ set lblStatus.Text to "âŒ ë©”ëª¨ë¦¬ ê°€ë“ì°¸ (ìµœëŒ€ 12ê°œ)"
  â”‚   â”œâ”€ call TextToSpeech1.Speak("ë©”ëª¨ë¦¬ê°€ ê°€ë“ ì°¼ìŠµë‹ˆë‹¤")
  â”‚
  â”œâ”€ else if contains(response, "ERR:NO_DATA")
  â”‚   â”œâ”€ set lblStatus.Text to "âŒ ì €ì¥ëœ ë°ì´í„° ì—†ìŒ"
  â”‚   â”œâ”€ call TextToSpeech1.Speak("ì €ì¥ëœ ìœ„ì¹˜ê°€ ì—†ìŠµë‹ˆë‹¤")
  â”‚
  â”œâ”€ else if contains(response, "ERR:INVALID_RANGE")
  â”‚   â”œâ”€ set lblStatus.Text to "âŒ ê°ë„ ë²”ìœ„ ì˜¤ë¥˜"
  â”‚   â”œâ”€ call TextToSpeech1.Speak("ê°ë„ ê°’ì´ ì˜ëª»ë˜ì—ˆìŠµë‹ˆë‹¤")
  â”‚
  â”œâ”€ else if contains(response, "ERR:")
  â”‚   â”œâ”€ set lblStatus.Text to "âŒ ì˜¤ë¥˜: " + response
  â”‚   â”œâ”€ call TextToSpeech1.Speak("ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤")
  â”‚
  â””â”€ else
      â”œâ”€ // ê¸°íƒ€ ì‘ë‹µ (INFO, DEBUG ë“±)
      â””â”€ set lblStatus.Text to response
```

### ìŒì„± ëª…ë ¹ ë§¤í•‘ í…Œì´ë¸”

| ì‚¬ìš©ì ë°œí™” | ì¸ì‹ í…ìŠ¤íŠ¸ | ì „ì†¡ ëª…ë ¹ | TTS ì‘ë‹µ |
|-----------|-----------|---------|---------|
| "ì €ì¥í•´ì¤˜" | "ì €ì¥í•´ì¤˜" | `save_` | "ì €ì¥ ì™„ë£Œ" |
| "ì¬ìƒ" | "ì¬ìƒ" | `play_` | "ì¬ìƒ ì‹œì‘" |
| "ìë™ìœ¼ë¡œ í•´ì¤˜" | "ìë™ìœ¼ë¡œ í•´ì¤˜" | `auto_` | "ìë™ ëª¨ë“œ ì‹œì‘" |
| "ë©ˆì¶°" | "ë©ˆì¶°" | `stop_` | "ìë™ ëª¨ë“œ ì¤‘ì§€" |
| "ì²˜ìŒìœ¼ë¡œ" | "ì²˜ìŒìœ¼ë¡œ" | `home_` | "í™ˆ ìœ„ì¹˜ë¡œ ì´ë™í•©ë‹ˆë‹¤" |
| "ì´ˆê¸°í™”" | "ì´ˆê¸°í™”" | `clear_` | "ë°ì´í„°ë¥¼ ì‚­ì œí•©ë‹ˆë‹¤" |

### ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜

```
ğŸ“ procedure extractNumber (text)
  // "PLAY_START:5" â†’ 5 ì¶”ì¶œ
  // "OK:SAVE_3" â†’ 3 ì¶”ì¶œ
  // "STEP_2" â†’ 2 ì¶”ì¶œ
  â”‚
  â”œâ”€ if contains(text, ":")
  â”‚   â”œâ”€ set parts to split(text, ":")
  â”‚   â””â”€ return parts[2]
  â”‚
  â”œâ”€ else if contains(text, "_")
  â”‚   â”œâ”€ set parts to split(text, "_")
  â”‚   â”œâ”€ set lastPart to parts[length(parts)]
  â”‚   â””â”€ return toNumber(lastPart)
  â”‚
  â””â”€ else
      â””â”€ return 0

ğŸ“ procedure addToLog (type, message, time)
  // ë¡œê·¸ ë¦¬ìŠ¤íŠ¸ì— í•­ëª© ì¶”ê°€
  â”‚
  â”œâ”€ set icon to ""
  â”œâ”€ if type == "ì „ì†¡" then icon = "ğŸ“¤"
  â”œâ”€ if type == "ìˆ˜ì‹ " then icon = "ğŸ“¥"
  â”œâ”€ if type == "ì—ëŸ¬" then icon = "âŒ"
  â”‚
  â”œâ”€ set logItem to join(icon, " ", time, " | ", message)
  â”œâ”€ add logItem to global logList
  â”‚
  â”œâ”€ // ìµœëŒ€ 50ê°œ ìœ ì§€
  â”œâ”€ if length(logList) > 50
  â”‚   â””â”€ remove item 1 from logList
  â”‚
  â””â”€ set ListView_Log.Elements to logList

ğŸ“ procedure initProgressBar (totalSteps)
  // ì§„í–‰ë¥  í‘œì‹œ ì´ˆê¸°í™”
  â”‚
  â”œâ”€ set lblProgress.Text to "0 / " + totalSteps
  â”œâ”€ set Slider_Progress.MaxValue to totalSteps
  â””â”€ set Slider_Progress.ThumbPosition to 0

ğŸ“ procedure updateProgressBar (currentStep)
  // ì§„í–‰ë¥  ì—…ë°ì´íŠ¸
  â”‚
  â”œâ”€ set Slider_Progress.ThumbPosition to currentStep
  â””â”€ set lblProgress.Text to currentStep + " / " + Slider_Progress.MaxValue
```

### ì—ëŸ¬ ì²˜ë¦¬ ì „ëµ

```mermaid
graph TD
    ERROR[ì—ëŸ¬ ë°œìƒ] --> TYPE{ì—ëŸ¬<br/>ìœ í˜•?}
    
    TYPE -->|ì—°ê²° ëŠê¹€| ERR_CONN[ì¬ì—°ê²°<br/>ì‹œë„]
    TYPE -->|íƒ€ì„ì•„ì›ƒ| ERR_TIMEOUT[ëª…ë ¹ ì¬ì „ì†¡<br/>ì œì•ˆ]
    TYPE -->|ë©”ëª¨ë¦¬ ê°€ë“| ERR_MEM[clear_ ë˜ëŠ”<br/>play_ ì œì•ˆ]
    TYPE -->|ë°ì´í„° ì—†ìŒ| ERR_DATA[save_ ë¨¼ì €<br/>í•˜ë„ë¡ ì•ˆë‚´]
    TYPE -->|ì˜ëª»ëœ ëª…ë ¹| ERR_CMD[ì‚¬ìš© ê°€ëŠ¥í•œ<br/>ëª…ë ¹ ì•ˆë‚´]
    
    ERR_CONN --> NOTIFY[ì‚¬ìš©ìì—ê²Œ<br/>TTS ì•Œë¦¼]
    ERR_TIMEOUT --> NOTIFY
    ERR_MEM --> NOTIFY
    ERR_DATA --> NOTIFY
    ERR_CMD --> NOTIFY
    
    NOTIFY --> LOG[ë¡œê·¸ ê¸°ë¡]
    LOG --> UI[UI ì—…ë°ì´íŠ¸]
    
    style ERROR fill:#FF6B6B,color:#fff
    style NOTIFY fill:#FFD93D,color:#111
```

### ì‹¤ìŠµ í™œë™ ë° í…ŒìŠ¤íŠ¸

#### í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ 1: ê¸°ë³¸ ëª…ë ¹ (15ë¶„)

```
âœ… ì²´í¬ë¦¬ìŠ¤íŠ¸:
1. [ ] ë¸”ë£¨íˆ¬ìŠ¤ ì—°ê²° í…ŒìŠ¤íŠ¸
   - HC-06 í˜ì–´ë§
   - ListPickerë¡œ ì„ íƒ
   - ì—°ê²° ì„±ê³µ í™•ì¸

2. [ ] ìˆ˜ë™ ë²„íŠ¼ ì œì–´
   - "ì €ì¥" ë²„íŠ¼ â†’ save_ ì „ì†¡ â†’ OK:SAVE ì‘ë‹µ
   - "ì¬ìƒ" ë²„íŠ¼ â†’ play_ ì „ì†¡ â†’ PLAY_START, STEP_n, PLAY_DONE ìˆ˜ì‹ 
   - "ìë™" ë²„íŠ¼ â†’ auto_ ì „ì†¡ â†’ ë¬´í•œ ë°˜ë³µ í™•ì¸
   - "ì¤‘ì§€" ë²„íŠ¼ â†’ stop_ ì „ì†¡ â†’ ë°˜ë³µ ì¤‘ì§€ í™•ì¸

3. [ ] ì‘ë‹µ í™•ì¸
   - lblStatusì— ìƒíƒœ í‘œì‹œ í™•ì¸
   - TTS ìŒì„± ì‘ë‹µ í™•ì¸
   - ë¡œê·¸ì— ê¸°ë¡ í™•ì¸
```

#### í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ 2: ìŒì„± ì œì–´ (15ë¶„)

```
âœ… ì²´í¬ë¦¬ìŠ¤íŠ¸:
1. [ ] í•œê¸€ ìŒì„± ëª…ë ¹
   - "ì €ì¥í•´ì¤˜" â†’ save_ ì „ì†¡
   - "ì¬ìƒí•´ì¤˜" â†’ play_ ì „ì†¡
   - "ìë™ìœ¼ë¡œ í•´ì¤˜" â†’ auto_ ì „ì†¡
   - "ë©ˆì¶°" â†’ stop_ ì „ì†¡

2. [ ] ì˜ì–´ ìŒì„± ëª…ë ¹
   - "save" â†’ save_ ì „ì†¡
   - "play" â†’ play_ ì „ì†¡
   - "auto" â†’ auto_ ì „ì†¡
   - "stop" â†’ stop_ ì „ì†¡

3. [ ] í˜¼í•© ëª…ë ¹
   - "ì €ì¥ save" â†’ ì¸ì‹ ì„±ê³µ
   - "ì¬ìƒ play" â†’ ì¸ì‹ ì„±ê³µ
```

#### í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ 3: ì—ëŸ¬ ì²˜ë¦¬ (10ë¶„)

```
âœ… ì²´í¬ë¦¬ìŠ¤íŠ¸:
1. [ ] ì—°ê²° ì—†ì´ ëª…ë ¹
   - ë¸”ë£¨íˆ¬ìŠ¤ ëŠê³  ëª…ë ¹ â†’ "ì—°ê²°ì´ í•„ìš”í•©ë‹ˆë‹¤" TTS

2. [ ] ë©”ëª¨ë¦¬ ê°€ë“ ì°¸
   - 12ê°œ ì´ìƒ ì €ì¥ â†’ ERR:MEMORY_FULL â†’ "ë©”ëª¨ë¦¬ê°€ ê°€ë“ ì°¼ìŠµë‹ˆë‹¤" TTS

3. [ ] ë°ì´í„° ì—†ì´ ì¬ìƒ
   - clear_ í›„ play_ â†’ ERR:NO_DATA â†’ "ì €ì¥ëœ ìœ„ì¹˜ê°€ ì—†ìŠµë‹ˆë‹¤" TTS

4. [ ] íƒ€ì„ì•„ì›ƒ í…ŒìŠ¤íŠ¸
   - ì•„ë‘ì´ë…¸ ì „ì› ë„ê³  ëª…ë ¹ â†’ 3ì´ˆ í›„ "ì‘ë‹µ ì—†ìŒ" í‘œì‹œ
```

#### í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ 4: í†µí•© í…ŒìŠ¤íŠ¸ (20ë¶„)

```
ğŸ¯ ì™„ì „í•œ ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤:

1. ì•± ì‹œì‘ â†’ ë¸”ë£¨íˆ¬ìŠ¤ ì—°ê²°
2. ì¡°ì´ìŠ¤í‹±ìœ¼ë¡œ ìœ„ì¹˜ 1 ì„¤ì • â†’ "ì €ì¥" ìŒì„± ëª…ë ¹
3. ì¡°ì´ìŠ¤í‹±ìœ¼ë¡œ ìœ„ì¹˜ 2 ì„¤ì • â†’ ë²„íŠ¼ìœ¼ë¡œ ì €ì¥
4. ì¡°ì´ìŠ¤í‹±ìœ¼ë¡œ ìœ„ì¹˜ 3 ì„¤ì • â†’ "ì„¸ì´ë¸Œ" ìŒì„± ëª…ë ¹
5. "ì¬ìƒ" ìŒì„± ëª…ë ¹ â†’ 3ë‹¨ê³„ ì‹¤í–‰ í™•ì¸
6. "ìë™" ë²„íŠ¼ í´ë¦­ â†’ ë¬´í•œ ë°˜ë³µ í™•ì¸
7. 5íšŒ ë°˜ë³µ í›„ "ë©ˆì¶°" ìŒì„± ëª…ë ¹
8. ì‘ë‹µ í™•ì¸: "OK:AUTO_OFF:5"
9. "ì²˜ìŒìœ¼ë¡œ" ìŒì„± ëª…ë ¹ â†’ í™ˆ ìœ„ì¹˜ ì´ë™
10. "ì´ˆê¸°í™”" ìŒì„± ëª…ë ¹ â†’ ë°ì´í„° ì‚­ì œ í™•ì¸
```

### ë””ë²„ê¹… íŒ

```
ğŸ” í”í•œ ë¬¸ì œì™€ í•´ê²°:

1. ìŒì„± ì¸ì‹ ì•ˆë¨
   âœ“ ì¸í„°ë„· ì—°ê²° í™•ì¸ (STTëŠ” ì˜¨ë¼ì¸ í•„ìš”)
   âœ“ ë§ˆì´í¬ ê¶Œí•œ í—ˆìš© í™•ì¸
   âœ“ ì¡°ìš©í•œ í™˜ê²½ì—ì„œ ì²œì²œíˆ ë§í•˜ê¸°

2. ë¸”ë£¨íˆ¬ìŠ¤ ì—°ê²° ì•ˆë¨
   âœ“ HC-06 ì „ì› í™•ì¸ (ë¹¨ê°„ LED)
   âœ“ í˜ì–´ë§ í™•ì¸ (ì„¤ì • â†’ ë¸”ë£¨íˆ¬ìŠ¤)
   âœ“ ì•± ìœ„ì¹˜ ê¶Œí•œ í—ˆìš© (ì•ˆë“œë¡œì´ë“œ 12+)

3. ì‘ë‹µ ë°›ì§€ ëª»í•¨
   âœ“ Serial Monitorì—ì„œ ì•„ë‘ì´ë…¸ ì‘ë‹µ í™•ì¸
   âœ“ baud rate 9600 í™•ì¸
   âœ“ ì¢…ë£Œ ë¬¸ì '_' í¬í•¨ í™•ì¸

4. TTS ì‘ë™ ì•ˆí•¨
   âœ“ êµ¬ê¸€ TTS ì—”ì§„ ì„¤ì¹˜ í™•ì¸
   âœ“ ë³¼ë¥¨ í™•ì¸
   âœ“ ì–¸ì–´ ì„¤ì • í™•ì¸ (í•œêµ­ì–´)
```

### ğŸ“‹ ì•±ì¸ë²¤í„° í”„ë¡œí† ì½œ ì™„ì „ ê°€ì´ë“œ

#### ëª…ë ¹-ì‘ë‹µ ë§¤í•‘í‘œ

| ëª…ë ¹ ì „ì†¡ | ì•„ë‘ì´ë…¸ ë™ì‘ | ì‘ë‹µ ë©”ì‹œì§€ | ì•± ì²˜ë¦¬ |
|---------|------------|----------|--------|
| `save_` | í˜„ì¬ ìœ„ì¹˜ EEPROM ì €ì¥ | `OK:SAVE_3` | "ì €ì¥ ì™„ë£Œ" TTS |
| `play_` | ì €ì¥ëœ ìœ„ì¹˜ ìˆœì°¨ ì¬ìƒ | `PLAY_START:5` â†’ `STEP_1` ~ `STEP_5` â†’ `PLAY_DONE` | ì§„í–‰ë¥  í‘œì‹œ |
| `auto_` | ë¬´í•œ ë°˜ë³µ ëª¨ë“œ ON | `OK:AUTO_ON` | ìë™ ë²„íŠ¼ ë¹„í™œì„±í™” |
| `stop_` | ë¬´í•œ ë°˜ë³µ ì¤‘ì§€ | `OK:AUTO_OFF:15` | "15íšŒ ë°˜ë³µ ì™„ë£Œ" TTS |
| `home_` | í™ˆ ìœ„ì¹˜(90,90,90,5) ì´ë™ | `OK:HOME` | "í™ˆ ìœ„ì¹˜" TTS |
| `clear_` | EEPROM ì „ì²´ ì‚­ì œ | `OK:CLEAR` | "ì´ˆê¸°í™” ì™„ë£Œ" TTS |
| `list_` | ì €ì¥ëœ ìœ„ì¹˜ ê°œìˆ˜ í™•ì¸ | `INFO:COUNT_5` | "5ê°œ ì €ì¥ë¨" í‘œì‹œ |
| `arm0_90_` | ë² ì´ìŠ¤ 90ë„ íšŒì „ | `OK:ARM0_90` | ìƒíƒœ í‘œì‹œ |
| `pos_90,120,60,5_` | 4ì¶• ë™ì‹œ ì´ë™ | `OK:POS` | ìƒíƒœ í‘œì‹œ |

#### í†µì‹  íƒ€ì´ë° ë‹¤ì´ì–´ê·¸ë¨

```
ì‹œê°„ì¶• â†’

ì•±: â”€â”€â”€â”€â”¬â”€ save_ ì „ì†¡
       â”‚
100ms  â”‚
       â”‚
ì•„ë‘ì´ë…¸: â”€â”´â”€ ë²„í¼ë§ 's''a''v''e''_'
          â”‚
          â”œâ”€ EEPROM ì“°ê¸° (10ms)
          â”‚
          â””â”€ OK:SAVE_3 ì‘ë‹µ

ì•±: â”€â”€â”€â”€â”€â”€â”¬â”€ ì‘ë‹µ ìˆ˜ì‹  (Clock1.Timer)
          â”‚
          â””â”€ TTS "ì €ì¥ ì™„ë£Œ"

ì´ ì†Œìš” ì‹œê°„: ~150ms
```

#### ì—ëŸ¬ ì½”ë“œ ìƒì„¸

```
ERR:MEMORY_FULL
  ì›ì¸: 12ê°œ ì´ˆê³¼ ì €ì¥ ì‹œë„
  í•´ê²°: clear_ ë˜ëŠ” ê¸°ì¡´ ë°ì´í„° ì¬ìƒ í›„ ë®ì–´ì“°ê¸°

ERR:NO_DATA
  ì›ì¸: ì €ì¥ëœ ìœ„ì¹˜ ì—†ì´ play_ ì‹¤í–‰
  í•´ê²°: save_ ë¨¼ì € ì‹¤í–‰

ERR:INVALID_RANGE
  ì›ì¸: ê°ë„ 0-180 ë²”ìœ„ ì´ˆê³¼
  í•´ê²°: ì˜¬ë°”ë¥¸ ê°ë„ ê°’ ì „ì†¡

ERR:UNKNOWN_COMMAND
  ì›ì¸: ì •ì˜ë˜ì§€ ì•Šì€ ëª…ë ¹
  í•´ê²°: ëª…ë ¹ì–´ í…Œì´ë¸” í™•ì¸

ERR:EEPROM_WRITE_FAIL
  ì›ì¸: EEPROM ì“°ê¸° ì‹¤íŒ¨
  í•´ê²°: ì•„ë‘ì´ë…¸ ì¬ë¶€íŒ…

ERR:SERVO_DETACH_FAIL
  ì›ì¸: ì„œë³´ ëª¨í„° ë¶„ë¦¬ ì‹¤íŒ¨
  í•´ê²°: í•˜ë“œì›¨ì–´ ì—°ê²° í™•ì¸
```

### ğŸ“ í•™ìŠµ ì •ë¦¬

#### í•µì‹¬ ê°œë… ë³µìŠµ

```mermaid
mindmap
  root((Day 1<br/>í•µì‹¬))
    í•˜ë“œì›¨ì–´
      4ì¶• ë¡œë´‡íŒ”
      ì„œë³´ ëª¨í„° PWM
      ì™¸ë¶€ ì „ì› 2A
    ì•Œê³ ë¦¬ì¦˜
      EEPROM ì €ì¥ O 1
      ìë™ ì¬ìƒ O nÃ—m
      BT ë²„í¼ë§ O n
    í†µì‹ 
      Serial 9600
      Bluetooth HC-06
      ëª…ë ¹ ì¢…ë£Œì _
    ì•±ì¸ë²¤í„°
      STT ìŒì„± ì¸ì‹
      TTS ìŒì„± ì‘ë‹µ
      Clock í´ë§
      ìƒíƒœ ê¸°ê³„
```

#### ì½”ë“œ ë³µì¡ë„ ì •ë¦¬

| ê¸°ëŠ¥ | ì‹œê°„ ë³µì¡ë„ | ê³µê°„ ë³µì¡ë„ | ì‹¤í–‰ ì‹œê°„ | ì„¤ëª… |
|------|-----------|-----------|---------|------|
| **EEPROM ì €ì¥** | O(1) | O(1) | ~10ms | 4 bytes ê³ ì • ì“°ê¸° |
| **EEPROM ì½ê¸°** | O(1) | O(1) | ~5ms | 4 bytes ê³ ì • ì½ê¸° |
| **1íšŒ ì¬ìƒ** | O(n) | O(1) | nÃ—1000ms | n=ìŠ¤í… ê°œìˆ˜ |
| **ë¬´í•œ ë°˜ë³µ** | O(nÃ—m) | O(1) | ë¬´ì œí•œ | m=ë°˜ë³µ íšŸìˆ˜ |
| **BT ë²„í¼ë§** | O(k) | O(k) | ~50ms | k=ëª…ë ¹ ê¸¸ì´(4-6ì) |
| **ìŒì„± ì¸ì‹** | - | - | 1-2ì´ˆ | ë„¤íŠ¸ì›Œí¬ ì˜ì¡´ |
| **TTS ì¬ìƒ** | - | - | 1-3ì´ˆ | í…ìŠ¤íŠ¸ ê¸¸ì´ ì˜ì¡´ |

---

## ğŸ“Š Day 1 í‰ê°€ ë° ì„±ì°°

### í•™ìŠµ ì„±ê³¼ ì²´í¬ë¦¬ìŠ¤íŠ¸

**í•˜ë“œì›¨ì–´ ì´í•´**:
- [ ] 4ì¶• ë¡œë´‡íŒ” êµ¬ì¡° ì™„ì „ ì´í•´
- [ ] ì„œë³´ëª¨í„° PWM ì œì–´ ì›ë¦¬
- [ ] ì „ì› ìš”êµ¬ì‚¬í•­ (2A ì´ìƒ)

**ë‹¨ê³„ë³„ í•™ìŠµ**:
- [ ] 01ë‹¨ê³„: ì„œë³´ í…ŒìŠ¤íŠ¸ ì„±ê³µ
- [ ] 02ë‹¨ê³„: ì¡°ì´ìŠ¤í‹± ì œì–´ ì„±ê³µ
- [ ] 03ë‹¨ê³„: Serial ëª…ë ¹ íŒŒì‹±
- [ ] 04ë‹¨ê³„: EEPROM ì €ì¥/ì¬ìƒ â­
- [ ] 05ë‹¨ê³„: Bluetooth ë¬´ì„  ì œì–´ â­
- [ ] 06ë‹¨ê³„: ì•ˆì •ì„± ê°œì„ 

**í•µì‹¬ ì•Œê³ ë¦¬ì¦˜**:
- [ ] EEPROM ì €ì¥/ë³µêµ¬ (O(1))
- [ ] ìë™ ì¬ìƒ/ë¬´í•œ ë°˜ë³µ (O(nÃ—m))
- [ ] Bluetooth ëª…ë ¹ ë²„í¼ë§ (O(n))

**ìŒì„± ì œì–´**:
- [ ] STT ìŒì„± ì¸ì‹ ì‘ë™
- [ ] TTS ìŒì„± ì‘ë‹µ ì‘ë™
- [ ] ëª…ë ¹ íŒŒì‹± ì •í™•ë„ 80% ì´ìƒ
- [ ] ë¸”ë£¨íˆ¬ìŠ¤ í†µì‹  ì•ˆì •ì„±

### ë³µì¡ë„ ë¶„ì„

| ì•Œê³ ë¦¬ì¦˜ | ì‹œê°„ ë³µì¡ë„ | ê³µê°„ ë³µì¡ë„ | ë¹„ê³  |
|---------|-----------|-----------|------|
| EEPROM ì €ì¥ | O(1) | O(1) | 4 bytes ê³ ì • |
| EEPROM ì½ê¸° | O(1) | O(1) | 4 bytes ê³ ì • |
| ì¬ìƒ (nìŠ¤í…) | O(n) | O(1) | n = ìŠ¤í… ê°œìˆ˜ |
| ë¬´í•œ ë°˜ë³µ (míšŒ) | O(nÃ—m) | O(1) | m = ë°˜ë³µ íšŸìˆ˜ |
| ëª…ë ¹ ë²„í¼ë§ | O(n) | O(n) | n = ëª…ë ¹ ê¸¸ì´ |

### ì„±ì°° ì§ˆë¬¸

```markdown
## Day 1 ì„±ì°°

### 1. ê°€ì¥ ì–´ë ¤ì› ë˜ ë¶€ë¶„ì€?
_______________________________________

### 2. EEPROM ì•Œê³ ë¦¬ì¦˜ì˜ í•µì‹¬ì€?
_______________________________________

### 3. Bluetooth ë²„í¼ë§ì´ ì™œ í•„ìš”í•œê°€?
_______________________________________

### 4. ìŒì„± ì œì–´ì˜ ì¥ë‹¨ì ì€?
ì¥ì : ___________________________________
ë‹¨ì : ___________________________________

### 5. ë‚´ì¼ ì»¨ë² ì´ì–´ ì‹œìŠ¤í…œì—ì„œ ê¸°ëŒ€ë˜ëŠ” ê²ƒì€?
_______________________________________
```

---

## ğŸ¯ Day 2 ì˜ˆê³ 

### ë‚´ì¼ ë°°ìš¸ ê²ƒ

```mermaid
graph LR
    SENSOR[ì„¼ì„œ<br/>IR/Color] --> MOTOR[ëª¨í„°<br/>DC/Servo]
    MOTOR --> LED[LED<br/>NeoPixel]
    LED --> INTEGRATED[í†µí•©<br/>ìë™ ë¶„ë¥˜]
    INTEGRATED --> DUAL[ì´ì¤‘ í†µì‹ <br/>count_]
    
    style SENSOR fill:#99E9F2,color:#111
    style INTEGRATED fill:#FFD93D,color:#111
    style DUAL fill:#51CF66,color:#fff
```

**í•µì‹¬ ì•Œê³ ë¦¬ì¦˜ (Day 2)**:
- âœ… ìƒ‰ìƒ íŒë³„ (ìœ í´ë¦¬ë“œ ê±°ë¦¬)
- âœ… ì‹¤ì‹œê°„ ëª…ë ¹ ì²´í¬ (ë¹„ì°¨ë‹¨)
- âœ… ì œí’ˆ ì¹´ìš´íŒ… (count_ ë°ì´í„°)
- âœ… ì´ì¤‘ í†µì‹  (Serial + Bluetooth)

---

**Day 1 ì™„ë£Œ!** ğŸ‰

**"ì˜¤ëŠ˜ ìš°ë¦¬ëŠ” ë¡œë´‡íŒ”ì„ ì •ë³µí–ˆìŠµë‹ˆë‹¤. ë‚´ì¼ì€ ì»¨ë² ì´ì–´ ì‹œìŠ¤í…œìœ¼ë¡œ!"** ğŸš€

---

**Last Updated**: 2026-01-25  
**Version**: 3.0 (README.md ê¸°ì¤€ ì¬êµ¬ì„±)  
**ì´ í•™ìŠµ ì‹œê°„**: 8ì‹œê°„  
**ì½”ë“œ ë¼ì¸**: ~1,340ì¤„ (01~06ë‹¨ê³„)  
**í•µì‹¬ ì•Œê³ ë¦¬ì¦˜**: 3ê°€ì§€ (EEPROM, ìë™ ì¬ìƒ, Bluetooth)
